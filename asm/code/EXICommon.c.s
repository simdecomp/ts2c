.include "macros.inc"

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "EXIWriteReg"
"EXIWriteReg":
/* 80372960 0036E600  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80372964 0036E604  7C 08 02 A6 */	mflr r0
/* 80372968 0036E608  2C 07 00 02 */	cmpwi r7, 2
/* 8037296C 0036E60C  90 01 00 24 */	stw r0, 0x24(r1)
/* 80372970 0036E610  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80372974 0036E614  7C 7F 1B 78 */	mr r31, r3
/* 80372978 0036E618  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8037297C 0036E61C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80372980 0036E620  7C 9D 23 78 */	mr r29, r4
/* 80372984 0036E624  90 A1 00 08 */	stw r5, 8(r1)
/* 80372988 0036E628  41 82 00 24 */	beq lbl_803729AC
/* 8037298C 0036E62C  40 80 00 34 */	bge lbl_803729C0
/* 80372990 0036E630  2C 07 00 01 */	cmpwi r7, 1
/* 80372994 0036E634  40 80 00 08 */	bge lbl_8037299C
/* 80372998 0036E638  48 00 00 28 */	b lbl_803729C0
lbl_8037299C:
/* 8037299C 0036E63C  88 06 00 00 */	lbz r0, 0(r6)
/* 803729A0 0036E640  54 00 C0 0E */	slwi r0, r0, 0x18
/* 803729A4 0036E644  90 01 00 0C */	stw r0, 0xc(r1)
/* 803729A8 0036E648  48 00 00 34 */	b lbl_803729DC
lbl_803729AC:
/* 803729AC 0036E64C  A0 66 00 00 */	lhz r3, 0(r6)
/* 803729B0 0036E650  54 60 42 1E */	rlwinm r0, r3, 8, 8, 0xf
/* 803729B4 0036E654  50 60 C0 0E */	rlwimi r0, r3, 0x18, 0, 7
/* 803729B8 0036E658  90 01 00 0C */	stw r0, 0xc(r1)
/* 803729BC 0036E65C  48 00 00 20 */	b lbl_803729DC
lbl_803729C0:
/* 803729C0 0036E660  80 86 00 00 */	lwz r4, 0(r6)
/* 803729C4 0036E664  54 83 42 1E */	rlwinm r3, r4, 8, 8, 0xf
/* 803729C8 0036E668  54 80 C4 2E */	rlwinm r0, r4, 0x18, 0x10, 0x17
/* 803729CC 0036E66C  50 83 C0 0E */	rlwimi r3, r4, 0x18, 0, 7
/* 803729D0 0036E670  50 80 46 3E */	rlwimi r0, r4, 8, 0x18, 0x1f
/* 803729D4 0036E674  7C 60 03 78 */	or r0, r3, r0
/* 803729D8 0036E678  90 01 00 0C */	stw r0, 0xc(r1)
lbl_803729DC:
/* 803729DC 0036E67C  7F E3 FB 78 */	mr r3, r31
/* 803729E0 0036E680  7F A4 EB 78 */	mr r4, r29
/* 803729E4 0036E684  38 A0 00 00 */	li r5, 0
/* 803729E8 0036E688  4B FF F6 9D */	bl "EXILock"
/* 803729EC 0036E68C  7C 60 00 34 */	cntlzw r0, r3
/* 803729F0 0036E690  54 1E D9 7F */	rlwinm. r30, r0, 0x1b, 5, 0x1f
/* 803729F4 0036E694  41 82 00 0C */	beq lbl_80372A00
/* 803729F8 0036E698  38 60 00 00 */	li r3, 0
/* 803729FC 0036E69C  48 00 00 D4 */	b lbl_80372AD0
lbl_80372A00:
/* 80372A00 0036E6A0  7F E3 FB 78 */	mr r3, r31
/* 80372A04 0036E6A4  7F A4 EB 78 */	mr r4, r29
/* 80372A08 0036E6A8  38 A0 00 04 */	li r5, 4
/* 80372A0C 0036E6AC  4B FF EE E5 */	bl "EXISelect"
/* 80372A10 0036E6B0  7C 60 00 34 */	cntlzw r0, r3
/* 80372A14 0036E6B4  54 00 D9 7E */	srwi r0, r0, 5
/* 80372A18 0036E6B8  7F DE 03 79 */	or. r30, r30, r0
/* 80372A1C 0036E6BC  41 82 00 14 */	beq lbl_80372A30
/* 80372A20 0036E6C0  7F E3 FB 78 */	mr r3, r31
/* 80372A24 0036E6C4  4B FF F7 5D */	bl "EXIUnlock"
/* 80372A28 0036E6C8  38 60 00 00 */	li r3, 0
/* 80372A2C 0036E6CC  48 00 00 A4 */	b lbl_80372AD0
lbl_80372A30:
/* 80372A30 0036E6D0  7F E3 FB 78 */	mr r3, r31
/* 80372A34 0036E6D4  38 81 00 08 */	addi r4, r1, 8
/* 80372A38 0036E6D8  38 A0 00 04 */	li r5, 4
/* 80372A3C 0036E6DC  38 C0 00 01 */	li r6, 1
/* 80372A40 0036E6E0  38 E0 00 00 */	li r7, 0
/* 80372A44 0036E6E4  4B FF E4 45 */	bl "EXIImm"
/* 80372A48 0036E6E8  7C 60 00 34 */	cntlzw r0, r3
/* 80372A4C 0036E6EC  7F E3 FB 78 */	mr r3, r31
/* 80372A50 0036E6F0  54 00 D9 7E */	srwi r0, r0, 5
/* 80372A54 0036E6F4  7F DE 03 78 */	or r30, r30, r0
/* 80372A58 0036E6F8  4B FF E8 49 */	bl "EXISync"
/* 80372A5C 0036E6FC  7C 60 00 34 */	cntlzw r0, r3
/* 80372A60 0036E700  7F E3 FB 78 */	mr r3, r31
/* 80372A64 0036E704  54 00 D9 7E */	srwi r0, r0, 5
/* 80372A68 0036E708  38 81 00 0C */	addi r4, r1, 0xc
/* 80372A6C 0036E70C  7F DE 03 78 */	or r30, r30, r0
/* 80372A70 0036E710  38 A0 00 04 */	li r5, 4
/* 80372A74 0036E714  38 C0 00 01 */	li r6, 1
/* 80372A78 0036E718  38 E0 00 00 */	li r7, 0
/* 80372A7C 0036E71C  4B FF E4 0D */	bl "EXIImm"
/* 80372A80 0036E720  7C 60 00 34 */	cntlzw r0, r3
/* 80372A84 0036E724  7F E3 FB 78 */	mr r3, r31
/* 80372A88 0036E728  54 00 D9 7E */	srwi r0, r0, 5
/* 80372A8C 0036E72C  7F DE 03 78 */	or r30, r30, r0
/* 80372A90 0036E730  4B FF E8 11 */	bl "EXISync"
/* 80372A94 0036E734  7C 60 00 34 */	cntlzw r0, r3
/* 80372A98 0036E738  7F E3 FB 78 */	mr r3, r31
/* 80372A9C 0036E73C  54 00 D9 7E */	srwi r0, r0, 5
/* 80372AA0 0036E740  7F DE 03 78 */	or r30, r30, r0
/* 80372AA4 0036E744  4B FF EF 7D */	bl "EXIDeselect"
/* 80372AA8 0036E748  7C 60 00 34 */	cntlzw r0, r3
/* 80372AAC 0036E74C  7F E3 FB 78 */	mr r3, r31
/* 80372AB0 0036E750  54 00 D9 7E */	srwi r0, r0, 5
/* 80372AB4 0036E754  7F DE 03 78 */	or r30, r30, r0
/* 80372AB8 0036E758  4B FF F6 C9 */	bl "EXIUnlock"
/* 80372ABC 0036E75C  7C 60 00 34 */	cntlzw r0, r3
/* 80372AC0 0036E760  54 00 D9 7E */	srwi r0, r0, 5
/* 80372AC4 0036E764  7F DE 03 78 */	or r30, r30, r0
/* 80372AC8 0036E768  7F C0 00 34 */	cntlzw r0, r30
/* 80372ACC 0036E76C  54 03 D9 7E */	srwi r3, r0, 5
lbl_80372AD0:
/* 80372AD0 0036E770  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80372AD4 0036E774  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80372AD8 0036E778  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80372ADC 0036E77C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80372AE0 0036E780  7C 08 03 A6 */	mtlr r0
/* 80372AE4 0036E784  38 21 00 20 */	addi r1, r1, 0x20
/* 80372AE8 0036E788  4E 80 00 20 */	blr

.section .sdata2, "a"  # 0x805D9220 - 0x805DC420
.global "__EXIFreq"
"__EXIFreq":
	# ROM: 0x489AD0
	.4byte 0x00000004
	.4byte 0x00000000

