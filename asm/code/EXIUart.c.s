.include "macros.inc"

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "ProbeBarnacle"
"ProbeBarnacle":
/* 8037262C 0036E2CC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80372630 0036E2D0  7C 08 02 A6 */	mflr r0
/* 80372634 0036E2D4  2C 03 00 02 */	cmpwi r3, 2
/* 80372638 0036E2D8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8037263C 0036E2DC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80372640 0036E2E0  7C BF 2B 78 */	mr r31, r5
/* 80372644 0036E2E4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80372648 0036E2E8  7C 9E 23 78 */	mr r30, r4
/* 8037264C 0036E2EC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80372650 0036E2F0  7C 7D 1B 78 */	mr r29, r3
/* 80372654 0036E2F4  93 81 00 10 */	stw r28, 0x10(r1)
/* 80372658 0036E2F8  41 82 00 24 */	beq lbl_8037267C
/* 8037265C 0036E2FC  2C 04 00 00 */	cmpwi r4, 0
/* 80372660 0036E300  40 82 00 1C */	bne lbl_8037267C
/* 80372664 0036E304  38 80 00 00 */	li r4, 0
/* 80372668 0036E308  4B FF F0 B9 */	bl "EXIAttach"
/* 8037266C 0036E30C  2C 03 00 00 */	cmpwi r3, 0
/* 80372670 0036E310  40 82 00 0C */	bne lbl_8037267C
/* 80372674 0036E314  38 60 00 00 */	li r3, 0
/* 80372678 0036E318  48 00 01 0C */	b lbl_80372784
lbl_8037267C:
/* 8037267C 0036E31C  7F A3 EB 78 */	mr r3, r29
/* 80372680 0036E320  7F C4 F3 78 */	mr r4, r30
/* 80372684 0036E324  38 A0 00 00 */	li r5, 0
/* 80372688 0036E328  4B FF F9 FD */	bl "EXILock"
/* 8037268C 0036E32C  7C 60 00 34 */	cntlzw r0, r3
/* 80372690 0036E330  54 1C D9 7F */	rlwinm. r28, r0, 0x1b, 5, 0x1f
/* 80372694 0036E334  40 82 00 B4 */	bne lbl_80372748
/* 80372698 0036E338  7F A3 EB 78 */	mr r3, r29
/* 8037269C 0036E33C  7F C4 F3 78 */	mr r4, r30
/* 803726A0 0036E340  38 A0 00 00 */	li r5, 0
/* 803726A4 0036E344  4B FF F2 4D */	bl "EXISelect"
/* 803726A8 0036E348  7C 60 00 34 */	cntlzw r0, r3
/* 803726AC 0036E34C  54 1C D9 7F */	rlwinm. r28, r0, 0x1b, 5, 0x1f
/* 803726B0 0036E350  40 82 00 90 */	bne lbl_80372740
/* 803726B4 0036E354  3C 80 20 01 */	lis r4, 0x20011300@ha
/* 803726B8 0036E358  7F A3 EB 78 */	mr r3, r29
/* 803726BC 0036E35C  38 04 13 00 */	addi r0, r4, 0x20011300@l
/* 803726C0 0036E360  38 A0 00 04 */	li r5, 4
/* 803726C4 0036E364  90 01 00 08 */	stw r0, 8(r1)
/* 803726C8 0036E368  38 81 00 08 */	addi r4, r1, 8
/* 803726CC 0036E36C  38 C0 00 01 */	li r6, 1
/* 803726D0 0036E370  38 E0 00 00 */	li r7, 0
/* 803726D4 0036E374  4B FF E7 B5 */	bl "EXIImm"
/* 803726D8 0036E378  7C 60 00 34 */	cntlzw r0, r3
/* 803726DC 0036E37C  7F A3 EB 78 */	mr r3, r29
/* 803726E0 0036E380  54 1C D9 7E */	srwi r28, r0, 5
/* 803726E4 0036E384  4B FF EB BD */	bl "EXISync"
/* 803726E8 0036E388  7C 60 00 34 */	cntlzw r0, r3
/* 803726EC 0036E38C  7F A3 EB 78 */	mr r3, r29
/* 803726F0 0036E390  54 00 D9 7E */	srwi r0, r0, 5
/* 803726F4 0036E394  7F E4 FB 78 */	mr r4, r31
/* 803726F8 0036E398  7F 9C 03 78 */	or r28, r28, r0
/* 803726FC 0036E39C  38 A0 00 04 */	li r5, 4
/* 80372700 0036E3A0  38 C0 00 00 */	li r6, 0
/* 80372704 0036E3A4  38 E0 00 00 */	li r7, 0
/* 80372708 0036E3A8  4B FF E7 81 */	bl "EXIImm"
/* 8037270C 0036E3AC  7C 60 00 34 */	cntlzw r0, r3
/* 80372710 0036E3B0  7F A3 EB 78 */	mr r3, r29
/* 80372714 0036E3B4  54 00 D9 7E */	srwi r0, r0, 5
/* 80372718 0036E3B8  7F 9C 03 78 */	or r28, r28, r0
/* 8037271C 0036E3BC  4B FF EB 85 */	bl "EXISync"
/* 80372720 0036E3C0  7C 60 00 34 */	cntlzw r0, r3
/* 80372724 0036E3C4  7F A3 EB 78 */	mr r3, r29
/* 80372728 0036E3C8  54 00 D9 7E */	srwi r0, r0, 5
/* 8037272C 0036E3CC  7F 9C 03 78 */	or r28, r28, r0
/* 80372730 0036E3D0  4B FF F2 F1 */	bl "EXIDeselect"
/* 80372734 0036E3D4  7C 60 00 34 */	cntlzw r0, r3
/* 80372738 0036E3D8  54 00 D9 7E */	srwi r0, r0, 5
/* 8037273C 0036E3DC  7F 9C 03 78 */	or r28, r28, r0
lbl_80372740:
/* 80372740 0036E3E0  7F A3 EB 78 */	mr r3, r29
/* 80372744 0036E3E4  4B FF FA 3D */	bl "EXIUnlock"
lbl_80372748:
/* 80372748 0036E3E8  2C 1D 00 02 */	cmpwi r29, 2
/* 8037274C 0036E3EC  41 82 00 14 */	beq lbl_80372760
/* 80372750 0036E3F0  2C 1E 00 00 */	cmpwi r30, 0
/* 80372754 0036E3F4  40 82 00 0C */	bne lbl_80372760
/* 80372758 0036E3F8  7F A3 EB 78 */	mr r3, r29
/* 8037275C 0036E3FC  4B FF F0 DD */	bl "EXIDetach"
lbl_80372760:
/* 80372760 0036E400  2C 1C 00 00 */	cmpwi r28, 0
/* 80372764 0036E404  41 82 00 0C */	beq lbl_80372770
/* 80372768 0036E408  38 60 00 00 */	li r3, 0
/* 8037276C 0036E40C  48 00 00 18 */	b lbl_80372784
lbl_80372770:
/* 80372770 0036E410  80 9F 00 00 */	lwz r4, 0(r31)
/* 80372774 0036E414  20 64 FF FF */	subfic r3, r4, -1
/* 80372778 0036E418  38 04 00 01 */	addi r0, r4, 1
/* 8037277C 0036E41C  7C 60 03 78 */	or r0, r3, r0
/* 80372780 0036E420  54 03 0F FE */	srwi r3, r0, 0x1f
lbl_80372784:
/* 80372784 0036E424  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80372788 0036E428  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8037278C 0036E42C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80372790 0036E430  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80372794 0036E434  83 81 00 10 */	lwz r28, 0x10(r1)
/* 80372798 0036E438  7C 08 03 A6 */	mtlr r0
/* 8037279C 0036E43C  38 21 00 20 */	addi r1, r1, 0x20
/* 803727A0 0036E440  4E 80 00 20 */	blr 

.global "__OSEnableBarnacle"
"__OSEnableBarnacle":
/* 803727A4 0036E444  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803727A8 0036E448  7C 08 02 A6 */	mflr r0
/* 803727AC 0036E44C  90 01 00 24 */	stw r0, 0x24(r1)
/* 803727B0 0036E450  38 A1 00 08 */	addi r5, r1, 8
/* 803727B4 0036E454  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803727B8 0036E458  7C 9F 23 78 */	mr r31, r4
/* 803727BC 0036E45C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803727C0 0036E460  7C 7E 1B 78 */	mr r30, r3
/* 803727C4 0036E464  4B FF FA BD */	bl "EXIGetID"
/* 803727C8 0036E468  2C 03 00 00 */	cmpwi r3, 0
/* 803727CC 0036E46C  41 82 01 7C */	beq lbl_80372948
/* 803727D0 0036E470  80 81 00 08 */	lwz r4, 8(r1)
/* 803727D4 0036E474  3C 00 01 02 */	lis r0, 0x102
/* 803727D8 0036E478  7C 04 00 00 */	cmpw r4, r0
/* 803727DC 0036E47C  41 82 01 6C */	beq lbl_80372948
/* 803727E0 0036E480  40 80 00 94 */	bge lbl_80372874
/* 803727E4 0036E484  2C 04 00 04 */	cmpwi r4, 4
/* 803727E8 0036E488  41 82 01 60 */	beq lbl_80372948
/* 803727EC 0036E48C  40 80 00 54 */	bge lbl_80372840
/* 803727F0 0036E490  3C 60 80 00 */	lis r3, 0x80000010@ha
/* 803727F4 0036E494  38 03 00 10 */	addi r0, r3, 0x80000010@l
/* 803727F8 0036E498  7C 04 00 00 */	cmpw r4, r0
/* 803727FC 0036E49C  41 82 01 4C */	beq lbl_80372948
/* 80372800 0036E4A0  40 80 00 24 */	bge lbl_80372824
/* 80372804 0036E4A4  38 03 00 08 */	addi r0, r3, 8
/* 80372808 0036E4A8  7C 04 00 00 */	cmpw r4, r0
/* 8037280C 0036E4AC  41 82 01 3C */	beq lbl_80372948
/* 80372810 0036E4B0  40 80 01 08 */	bge lbl_80372918
/* 80372814 0036E4B4  38 03 00 04 */	addi r0, r3, 4
/* 80372818 0036E4B8  7C 04 00 00 */	cmpw r4, r0
/* 8037281C 0036E4BC  41 82 01 2C */	beq lbl_80372948
/* 80372820 0036E4C0  48 00 00 F8 */	b lbl_80372918
lbl_80372824:
/* 80372824 0036E4C4  2C 04 FF FF */	cmpwi r4, -1
/* 80372828 0036E4C8  41 82 01 20 */	beq lbl_80372948
/* 8037282C 0036E4CC  40 80 00 EC */	bge lbl_80372918
/* 80372830 0036E4D0  38 03 00 20 */	addi r0, r3, 0x20
/* 80372834 0036E4D4  7C 04 00 00 */	cmpw r4, r0
/* 80372838 0036E4D8  41 82 01 10 */	beq lbl_80372948
/* 8037283C 0036E4DC  48 00 00 DC */	b lbl_80372918
lbl_80372840:
/* 80372840 0036E4E0  2C 04 00 20 */	cmpwi r4, 0x20
/* 80372844 0036E4E4  41 82 01 04 */	beq lbl_80372948
/* 80372848 0036E4E8  40 80 00 1C */	bge lbl_80372864
/* 8037284C 0036E4EC  2C 04 00 10 */	cmpwi r4, 0x10
/* 80372850 0036E4F0  41 82 00 F8 */	beq lbl_80372948
/* 80372854 0036E4F4  40 80 00 C4 */	bge lbl_80372918
/* 80372858 0036E4F8  2C 04 00 08 */	cmpwi r4, 8
/* 8037285C 0036E4FC  41 82 00 EC */	beq lbl_80372948
/* 80372860 0036E500  48 00 00 B8 */	b lbl_80372918
lbl_80372864:
/* 80372864 0036E504  3C 00 01 01 */	lis r0, 0x101
/* 80372868 0036E508  7C 04 00 00 */	cmpw r4, r0
/* 8037286C 0036E50C  41 82 00 DC */	beq lbl_80372948
/* 80372870 0036E510  48 00 00 A8 */	b lbl_80372918
lbl_80372874:
/* 80372874 0036E514  3C 60 04 04 */	lis r3, 0x04040404@ha
/* 80372878 0036E518  38 03 04 04 */	addi r0, r3, 0x04040404@l
/* 8037287C 0036E51C  7C 04 00 00 */	cmpw r4, r0
/* 80372880 0036E520  41 82 00 C8 */	beq lbl_80372948
/* 80372884 0036E524  40 80 00 58 */	bge lbl_803728DC
/* 80372888 0036E528  3C 60 04 02 */	lis r3, 0x04020100@ha
/* 8037288C 0036E52C  38 03 01 00 */	addi r0, r3, 0x04020100@l
/* 80372890 0036E530  7C 04 00 00 */	cmpw r4, r0
/* 80372894 0036E534  41 82 00 B4 */	beq lbl_80372948
/* 80372898 0036E538  40 80 00 24 */	bge lbl_803728BC
/* 8037289C 0036E53C  3C 00 03 01 */	lis r0, 0x301
/* 803728A0 0036E540  7C 04 00 00 */	cmpw r4, r0
/* 803728A4 0036E544  41 82 00 A4 */	beq lbl_80372948
/* 803728A8 0036E548  40 80 00 70 */	bge lbl_80372918
/* 803728AC 0036E54C  3C 00 02 02 */	lis r0, 0x202
/* 803728B0 0036E550  7C 04 00 00 */	cmpw r4, r0
/* 803728B4 0036E554  41 82 00 94 */	beq lbl_80372948
/* 803728B8 0036E558  48 00 00 60 */	b lbl_80372918
lbl_803728BC:
/* 803728BC 0036E55C  38 03 03 00 */	addi r0, r3, 0x300
/* 803728C0 0036E560  7C 04 00 00 */	cmpw r4, r0
/* 803728C4 0036E564  41 82 00 84 */	beq lbl_80372948
/* 803728C8 0036E568  40 80 00 50 */	bge lbl_80372918
/* 803728CC 0036E56C  38 03 02 00 */	addi r0, r3, 0x200
/* 803728D0 0036E570  7C 04 00 00 */	cmpw r4, r0
/* 803728D4 0036E574  41 82 00 74 */	beq lbl_80372948
/* 803728D8 0036E578  48 00 00 40 */	b lbl_80372918
lbl_803728DC:
/* 803728DC 0036E57C  3C 00 04 13 */	lis r0, 0x413
/* 803728E0 0036E580  7C 04 00 00 */	cmpw r4, r0
/* 803728E4 0036E584  41 82 00 64 */	beq lbl_80372948
/* 803728E8 0036E588  40 80 00 24 */	bge lbl_8037290C
/* 803728EC 0036E58C  3C 00 04 12 */	lis r0, 0x412
/* 803728F0 0036E590  7C 04 00 00 */	cmpw r4, r0
/* 803728F4 0036E594  41 82 00 54 */	beq lbl_80372948
/* 803728F8 0036E598  40 80 00 20 */	bge lbl_80372918
/* 803728FC 0036E59C  3C 00 04 06 */	lis r0, 0x406
/* 80372900 0036E5A0  7C 04 00 00 */	cmpw r4, r0
/* 80372904 0036E5A4  41 82 00 44 */	beq lbl_80372948
/* 80372908 0036E5A8  48 00 00 10 */	b lbl_80372918
lbl_8037290C:
/* 8037290C 0036E5AC  3C 00 04 22 */	lis r0, 0x422
/* 80372910 0036E5B0  7C 04 00 00 */	cmpw r4, r0
/* 80372914 0036E5B4  41 82 00 34 */	beq lbl_80372948
lbl_80372918:
/* 80372918 0036E5B8  7F C3 F3 78 */	mr r3, r30
/* 8037291C 0036E5BC  7F E4 FB 78 */	mr r4, r31
/* 80372920 0036E5C0  38 A1 00 08 */	addi r5, r1, 8
/* 80372924 0036E5C4  4B FF FD 09 */	bl "ProbeBarnacle"
/* 80372928 0036E5C8  2C 03 00 00 */	cmpwi r3, 0
/* 8037292C 0036E5CC  41 82 00 1C */	beq lbl_80372948
/* 80372930 0036E5D0  3C 60 A5 FF */	lis r3, 0xA5FF005A@ha
/* 80372934 0036E5D4  93 CD C4 84 */	stw r30, "Chan"-_SDA_BASE_(r13)
/* 80372938 0036E5D8  38 03 00 5A */	addi r0, r3, 0xA5FF005A@l
/* 8037293C 0036E5DC  93 ED C4 80 */	stw r31, "Dev"-_SDA_BASE_(r13)
/* 80372940 0036E5E0  90 0D C4 7C */	stw r0, "BarnacleEnabled"-_SDA_BASE_(r13)
/* 80372944 0036E5E4  90 0D C4 78 */	stw r0, "Enabled_805D8B58"-_SDA_BASE_(r13)
lbl_80372948:
/* 80372948 0036E5E8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8037294C 0036E5EC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80372950 0036E5F0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80372954 0036E5F4  7C 08 03 A6 */	mtlr r0
/* 80372958 0036E5F8  38 21 00 20 */	addi r1, r1, 0x20
/* 8037295C 0036E5FC  4E 80 00 20 */	blr 

.section .sbss, "wa"  # 0x805d79c0 - 0x805d9220
.global "Enabled_805D8B58"
"Enabled_805D8B58":
	.skip 0x4
.global "BarnacleEnabled"
"BarnacleEnabled":
	.skip 0x4
.global "Dev"
"Dev":
	.skip 0x4
.global "Chan"
"Chan":
	.skip 0x4
