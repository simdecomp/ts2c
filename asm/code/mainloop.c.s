.include "macros.inc"

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "TRKNubMainLoop"
"TRKNubMainLoop":
/* 8040FA7C 0040B71C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8040FA80 0040B720  7C 08 02 A6 */	mflr r0
/* 8040FA84 0040B724  90 01 00 24 */	stw r0, 0x24(r1)
/* 8040FA88 0040B728  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8040FA8C 0040B72C  3B E0 00 00 */	li r31, 0
/* 8040FA90 0040B730  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8040FA94 0040B734  3B C0 00 00 */	li r30, 0
/* 8040FA98 0040B738  48 00 00 BC */	b lbl_8040FB54
lbl_8040FA9C:
/* 8040FA9C 0040B73C  38 61 00 08 */	addi r3, r1, 8
/* 8040FAA0 0040B740  48 00 01 F1 */	bl "TRKGetNextEvent"
/* 8040FAA4 0040B744  2C 03 00 00 */	cmpwi r3, 0
/* 8040FAA8 0040B748  41 82 00 6C */	beq lbl_8040FB14
/* 8040FAAC 0040B74C  80 01 00 08 */	lwz r0, 8(r1)
/* 8040FAB0 0040B750  3B C0 00 00 */	li r30, 0
/* 8040FAB4 0040B754  2C 00 00 02 */	cmpwi r0, 2
/* 8040FAB8 0040B758  41 82 00 28 */	beq lbl_8040FAE0
/* 8040FABC 0040B75C  40 80 00 14 */	bge lbl_8040FAD0
/* 8040FAC0 0040B760  2C 00 00 00 */	cmpwi r0, 0
/* 8040FAC4 0040B764  41 82 00 44 */	beq lbl_8040FB08
/* 8040FAC8 0040B768  40 80 00 28 */	bge lbl_8040FAF0
/* 8040FACC 0040B76C  48 00 00 3C */	b lbl_8040FB08
lbl_8040FAD0:
/* 8040FAD0 0040B770  2C 00 00 05 */	cmpwi r0, 5
/* 8040FAD4 0040B774  41 82 00 30 */	beq lbl_8040FB04
/* 8040FAD8 0040B778  40 80 00 30 */	bge lbl_8040FB08
/* 8040FADC 0040B77C  48 00 00 1C */	b lbl_8040FAF8
lbl_8040FAE0:
/* 8040FAE0 0040B780  80 61 00 10 */	lwz r3, 0x10(r1)
/* 8040FAE4 0040B784  48 00 0B 3D */	bl "TRKGetBuffer"
/* 8040FAE8 0040B788  48 00 0E D9 */	bl "TRKDispatchMessage"
/* 8040FAEC 0040B78C  48 00 00 1C */	b lbl_8040FB08
lbl_8040FAF0:
/* 8040FAF0 0040B790  3B E0 00 01 */	li r31, 1
/* 8040FAF4 0040B794  48 00 00 14 */	b lbl_8040FB08
lbl_8040FAF8:
/* 8040FAF8 0040B798  38 61 00 08 */	addi r3, r1, 8
/* 8040FAFC 0040B79C  48 00 31 85 */	bl "TRKTargetInterrupt"
/* 8040FB00 0040B7A0  48 00 00 08 */	b lbl_8040FB08
lbl_8040FB04:
/* 8040FB04 0040B7A4  48 00 2D 75 */	bl "TRKTargetSupportRequest"
lbl_8040FB08:
/* 8040FB08 0040B7A8  38 61 00 08 */	addi r3, r1, 8
/* 8040FB0C 0040B7AC  48 00 00 69 */	bl "TRKDestructEvent"
/* 8040FB10 0040B7B0  48 00 00 44 */	b lbl_8040FB54
lbl_8040FB14:
/* 8040FB14 0040B7B4  2C 1E 00 00 */	cmpwi r30, 0
/* 8040FB18 0040B7B8  41 82 00 1C */	beq lbl_8040FB34
/* 8040FB1C 0040B7BC  3C 60 80 5E */	lis r3, "gTRKInputPendingPtr"@ha
/* 8040FB20 0040B7C0  38 63 90 C0 */	addi r3, r3, "gTRKInputPendingPtr"@l
/* 8040FB24 0040B7C4  80 63 00 00 */	lwz r3, 0(r3)
/* 8040FB28 0040B7C8  88 03 00 00 */	lbz r0, 0(r3)
/* 8040FB2C 0040B7CC  28 00 00 00 */	cmplwi r0, 0
/* 8040FB30 0040B7D0  41 82 00 10 */	beq lbl_8040FB40
lbl_8040FB34:
/* 8040FB34 0040B7D4  3B C0 00 01 */	li r30, 1
/* 8040FB38 0040B7D8  48 00 0C CD */	bl "TRKGetInput"
/* 8040FB3C 0040B7DC  48 00 00 18 */	b lbl_8040FB54
lbl_8040FB40:
/* 8040FB40 0040B7E0  48 00 2D 29 */	bl "TRKTargetStopped"
/* 8040FB44 0040B7E4  2C 03 00 00 */	cmpwi r3, 0
/* 8040FB48 0040B7E8  40 82 00 08 */	bne lbl_8040FB50
/* 8040FB4C 0040B7EC  48 00 50 4D */	bl "TRKTargetContinue"
lbl_8040FB50:
/* 8040FB50 0040B7F0  3B C0 00 00 */	li r30, 0
lbl_8040FB54:
/* 8040FB54 0040B7F4  2C 1F 00 00 */	cmpwi r31, 0
/* 8040FB58 0040B7F8  41 82 FF 44 */	beq lbl_8040FA9C
/* 8040FB5C 0040B7FC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8040FB60 0040B800  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8040FB64 0040B804  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8040FB68 0040B808  7C 08 03 A6 */	mtlr r0
/* 8040FB6C 0040B80C  38 21 00 20 */	addi r1, r1, 0x20
/* 8040FB70 0040B810  4E 80 00 20 */	blr 
