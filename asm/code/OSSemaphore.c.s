.include "macros.inc"

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "OSInitSemaphore"
"OSInitSemaphore":
/* 803E29FC 003DE69C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803E2A00 003DE6A0  7C 08 02 A6 */	mflr r0
/* 803E2A04 003DE6A4  90 01 00 24 */	stw r0, 0x24(r1)
/* 803E2A08 003DE6A8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803E2A0C 003DE6AC  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803E2A10 003DE6B0  7C 9E 23 78 */	mr r30, r4
/* 803E2A14 003DE6B4  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803E2A18 003DE6B8  7C 7D 1B 78 */	mr r29, r3
/* 803E2A1C 003DE6BC  4B FF DA 41 */	bl "__RAS_OSDisableInterrupts_begin"
/* 803E2A20 003DE6C0  7C 7F 1B 78 */	mr r31, r3
/* 803E2A24 003DE6C4  38 7D 00 04 */	addi r3, r29, 4
/* 803E2A28 003DE6C8  48 00 04 55 */	bl "OSInitThreadQueue"
/* 803E2A2C 003DE6CC  93 DD 00 00 */	stw r30, 0(r29)
/* 803E2A30 003DE6D0  7F E3 FB 78 */	mr r3, r31
/* 803E2A34 003DE6D4  4B FF DA 51 */	bl "OSRestoreInterrupts"
/* 803E2A38 003DE6D8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803E2A3C 003DE6DC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803E2A40 003DE6E0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803E2A44 003DE6E4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803E2A48 003DE6E8  7C 08 03 A6 */	mtlr r0
/* 803E2A4C 003DE6EC  38 21 00 20 */	addi r1, r1, 0x20
/* 803E2A50 003DE6F0  4E 80 00 20 */	blr

.global "OSWaitSemaphore"
"OSWaitSemaphore":
/* 803E2A54 003DE6F4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803E2A58 003DE6F8  7C 08 02 A6 */	mflr r0
/* 803E2A5C 003DE6FC  90 01 00 24 */	stw r0, 0x24(r1)
/* 803E2A60 003DE700  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803E2A64 003DE704  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803E2A68 003DE708  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803E2A6C 003DE70C  7C 7D 1B 78 */	mr r29, r3
/* 803E2A70 003DE710  4B FF D9 ED */	bl "__RAS_OSDisableInterrupts_begin"
/* 803E2A74 003DE714  7C 7F 1B 78 */	mr r31, r3
/* 803E2A78 003DE718  48 00 00 0C */	b lbl_803E2A84
lbl_803E2A7C:
/* 803E2A7C 003DE71C  38 7D 00 04 */	addi r3, r29, 4
/* 803E2A80 003DE720  48 00 12 CD */	bl "OSSleepThread"
lbl_803E2A84:
/* 803E2A84 003DE724  83 DD 00 00 */	lwz r30, 0(r29)
/* 803E2A88 003DE728  2C 1E 00 00 */	cmpwi r30, 0
/* 803E2A8C 003DE72C  40 81 FF F0 */	ble lbl_803E2A7C
/* 803E2A90 003DE730  80 9D 00 00 */	lwz r4, 0(r29)
/* 803E2A94 003DE734  7F E3 FB 78 */	mr r3, r31
/* 803E2A98 003DE738  38 04 FF FF */	addi r0, r4, -1
/* 803E2A9C 003DE73C  90 1D 00 00 */	stw r0, 0(r29)
/* 803E2AA0 003DE740  4B FF D9 E5 */	bl "OSRestoreInterrupts"
/* 803E2AA4 003DE744  7F C3 F3 78 */	mr r3, r30
/* 803E2AA8 003DE748  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803E2AAC 003DE74C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803E2AB0 003DE750  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803E2AB4 003DE754  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803E2AB8 003DE758  7C 08 03 A6 */	mtlr r0
/* 803E2ABC 003DE75C  38 21 00 20 */	addi r1, r1, 0x20
/* 803E2AC0 003DE760  4E 80 00 20 */	blr

.global "OSTryWaitSemaphore"
"OSTryWaitSemaphore":
/* 803E2AC4 003DE764  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803E2AC8 003DE768  7C 08 02 A6 */	mflr r0
/* 803E2ACC 003DE76C  90 01 00 14 */	stw r0, 0x14(r1)
/* 803E2AD0 003DE770  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803E2AD4 003DE774  93 C1 00 08 */	stw r30, 8(r1)
/* 803E2AD8 003DE778  7C 7E 1B 78 */	mr r30, r3
/* 803E2ADC 003DE77C  4B FF D9 81 */	bl "__RAS_OSDisableInterrupts_begin"
/* 803E2AE0 003DE780  83 FE 00 00 */	lwz r31, 0(r30)
/* 803E2AE4 003DE784  2C 1F 00 00 */	cmpwi r31, 0
/* 803E2AE8 003DE788  40 81 00 0C */	ble lbl_803E2AF4
/* 803E2AEC 003DE78C  38 1F FF FF */	addi r0, r31, -1
/* 803E2AF0 003DE790  90 1E 00 00 */	stw r0, 0(r30)
lbl_803E2AF4:
/* 803E2AF4 003DE794  4B FF D9 91 */	bl "OSRestoreInterrupts"
/* 803E2AF8 003DE798  7F E3 FB 78 */	mr r3, r31
/* 803E2AFC 003DE79C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803E2B00 003DE7A0  83 C1 00 08 */	lwz r30, 8(r1)
/* 803E2B04 003DE7A4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803E2B08 003DE7A8  7C 08 03 A6 */	mtlr r0
/* 803E2B0C 003DE7AC  38 21 00 10 */	addi r1, r1, 0x10
/* 803E2B10 003DE7B0  4E 80 00 20 */	blr

.global "OSSignalSemaphore"
"OSSignalSemaphore":
/* 803E2B14 003DE7B4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803E2B18 003DE7B8  7C 08 02 A6 */	mflr r0
/* 803E2B1C 003DE7BC  90 01 00 24 */	stw r0, 0x24(r1)
/* 803E2B20 003DE7C0  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803E2B24 003DE7C4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803E2B28 003DE7C8  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803E2B2C 003DE7CC  7C 7D 1B 78 */	mr r29, r3
/* 803E2B30 003DE7D0  4B FF D9 2D */	bl "__RAS_OSDisableInterrupts_begin"
/* 803E2B34 003DE7D4  83 DD 00 00 */	lwz r30, 0(r29)
/* 803E2B38 003DE7D8  7C 7F 1B 78 */	mr r31, r3
/* 803E2B3C 003DE7DC  38 7D 00 04 */	addi r3, r29, 4
/* 803E2B40 003DE7E0  38 1E 00 01 */	addi r0, r30, 1
/* 803E2B44 003DE7E4  90 1D 00 00 */	stw r0, 0(r29)
/* 803E2B48 003DE7E8  48 00 12 F1 */	bl "OSWakeupThread"
/* 803E2B4C 003DE7EC  7F E3 FB 78 */	mr r3, r31
/* 803E2B50 003DE7F0  4B FF D9 35 */	bl "OSRestoreInterrupts"
/* 803E2B54 003DE7F4  7F C3 F3 78 */	mr r3, r30
/* 803E2B58 003DE7F8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803E2B5C 003DE7FC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803E2B60 003DE800  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803E2B64 003DE804  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803E2B68 003DE808  7C 08 03 A6 */	mtlr r0
/* 803E2B6C 003DE80C  38 21 00 20 */	addi r1, r1, 0x20
/* 803E2B70 003DE810  4E 80 00 20 */	blr
