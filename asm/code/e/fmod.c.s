.include "macros.inc"

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "__ieee754_fmod"
"__ieee754_fmod":
/* 8040B1B8 00406E58  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8040B1BC 00406E5C  D8 41 00 10 */	stfd f2, 0x10(r1)
/* 8040B1C0 00406E60  D8 21 00 08 */	stfd f1, 8(r1)
/* 8040B1C4 00406E64  80 01 00 10 */	lwz r0, 0x10(r1)
/* 8040B1C8 00406E68  80 E1 00 08 */	lwz r7, 8(r1)
/* 8040B1CC 00406E6C  80 C1 00 14 */	lwz r6, 0x14(r1)
/* 8040B1D0 00406E70  54 00 00 7E */	clrlwi r0, r0, 1
/* 8040B1D4 00406E74  54 E4 00 00 */	rlwinm r4, r7, 0, 0, 0
/* 8040B1D8 00406E78  80 A1 00 0C */	lwz r5, 0xc(r1)
/* 8040B1DC 00406E7C  7C 03 33 79 */	or. r3, r0, r6
/* 8040B1E0 00406E80  7C E8 22 78 */	xor r8, r7, r4
/* 8040B1E4 00406E84  41 82 00 28 */	beq lbl_8040B20C
/* 8040B1E8 00406E88  3C E0 7F F0 */	lis r7, 0x7ff0
/* 8040B1EC 00406E8C  7C 08 38 00 */	cmpw r8, r7
/* 8040B1F0 00406E90  40 80 00 1C */	bge lbl_8040B20C
/* 8040B1F4 00406E94  7C 66 00 D0 */	neg r3, r6
/* 8040B1F8 00406E98  7C C3 1B 78 */	or r3, r6, r3
/* 8040B1FC 00406E9C  54 63 0F FE */	srwi r3, r3, 0x1f
/* 8040B200 00406EA0  7C 03 1B 78 */	or r3, r0, r3
/* 8040B204 00406EA4  7C 03 38 40 */	cmplw r3, r7
/* 8040B208 00406EA8  40 81 00 10 */	ble lbl_8040B218
lbl_8040B20C:
/* 8040B20C 00406EAC  FC 01 00 B2 */	fmul f0, f1, f2
/* 8040B210 00406EB0  FC 20 00 24 */	fdiv f1, f0, f0
/* 8040B214 00406EB4  48 00 02 CC */	b lbl_8040B4E0
lbl_8040B218:
/* 8040B218 00406EB8  7C 08 00 00 */	cmpw r8, r0
/* 8040B21C 00406EBC  41 81 00 2C */	bgt lbl_8040B248
/* 8040B220 00406EC0  41 80 02 C0 */	blt lbl_8040B4E0
/* 8040B224 00406EC4  7C 05 30 40 */	cmplw r5, r6
/* 8040B228 00406EC8  40 80 00 08 */	bge lbl_8040B230
/* 8040B22C 00406ECC  48 00 02 B4 */	b lbl_8040B4E0
lbl_8040B230:
/* 8040B230 00406ED0  40 82 00 18 */	bne lbl_8040B248
/* 8040B234 00406ED4  3C 60 80 42 */	lis r3, "Zero"@ha
/* 8040B238 00406ED8  54 80 27 38 */	rlwinm r0, r4, 4, 0x1c, 0x1c
/* 8040B23C 00406EDC  38 63 FA 78 */	addi r3, r3, "Zero"@l
/* 8040B240 00406EE0  7C 23 04 AE */	lfdx f1, r3, r0
/* 8040B244 00406EE4  48 00 02 9C */	b lbl_8040B4E0
lbl_8040B248:
/* 8040B248 00406EE8  3C 60 00 10 */	lis r3, 0x10
/* 8040B24C 00406EEC  7C 08 18 00 */	cmpw r8, r3
/* 8040B250 00406EF0  40 80 00 4C */	bge lbl_8040B29C
/* 8040B254 00406EF4  2C 08 00 00 */	cmpwi r8, 0
/* 8040B258 00406EF8  40 82 00 24 */	bne lbl_8040B27C
/* 8040B25C 00406EFC  7C A3 2B 78 */	mr r3, r5
/* 8040B260 00406F00  39 60 FB ED */	li r11, -1043
/* 8040B264 00406F04  48 00 00 0C */	b lbl_8040B270
lbl_8040B268:
/* 8040B268 00406F08  54 63 08 3C */	slwi r3, r3, 1
/* 8040B26C 00406F0C  39 6B FF FF */	addi r11, r11, -1
lbl_8040B270:
/* 8040B270 00406F10  2C 03 00 00 */	cmpwi r3, 0
/* 8040B274 00406F14  41 81 FF F4 */	bgt lbl_8040B268
/* 8040B278 00406F18  48 00 00 2C */	b lbl_8040B2A4
lbl_8040B27C:
/* 8040B27C 00406F1C  55 03 58 28 */	slwi r3, r8, 0xb
/* 8040B280 00406F20  39 60 FC 02 */	li r11, -1022
/* 8040B284 00406F24  48 00 00 0C */	b lbl_8040B290
lbl_8040B288:
/* 8040B288 00406F28  54 63 08 3C */	slwi r3, r3, 1
/* 8040B28C 00406F2C  39 6B FF FF */	addi r11, r11, -1
lbl_8040B290:
/* 8040B290 00406F30  2C 03 00 00 */	cmpwi r3, 0
/* 8040B294 00406F34  41 81 FF F4 */	bgt lbl_8040B288
/* 8040B298 00406F38  48 00 00 0C */	b lbl_8040B2A4
lbl_8040B29C:
/* 8040B29C 00406F3C  7D 03 A6 70 */	srawi r3, r8, 0x14
/* 8040B2A0 00406F40  39 63 FC 01 */	addi r11, r3, -1023
lbl_8040B2A4:
/* 8040B2A4 00406F44  3C 60 00 10 */	lis r3, 0x10
/* 8040B2A8 00406F48  7C 00 18 00 */	cmpw r0, r3
/* 8040B2AC 00406F4C  40 80 00 4C */	bge lbl_8040B2F8
/* 8040B2B0 00406F50  2C 00 00 00 */	cmpwi r0, 0
/* 8040B2B4 00406F54  40 82 00 24 */	bne lbl_8040B2D8
/* 8040B2B8 00406F58  7C C7 33 78 */	mr r7, r6
/* 8040B2BC 00406F5C  38 60 FB ED */	li r3, -1043
/* 8040B2C0 00406F60  48 00 00 0C */	b lbl_8040B2CC
lbl_8040B2C4:
/* 8040B2C4 00406F64  54 E7 08 3C */	slwi r7, r7, 1
/* 8040B2C8 00406F68  38 63 FF FF */	addi r3, r3, -1
lbl_8040B2CC:
/* 8040B2CC 00406F6C  2C 07 00 00 */	cmpwi r7, 0
/* 8040B2D0 00406F70  41 81 FF F4 */	bgt lbl_8040B2C4
/* 8040B2D4 00406F74  48 00 00 2C */	b lbl_8040B300
lbl_8040B2D8:
/* 8040B2D8 00406F78  54 07 58 28 */	slwi r7, r0, 0xb
/* 8040B2DC 00406F7C  38 60 FC 02 */	li r3, -1022
/* 8040B2E0 00406F80  48 00 00 0C */	b lbl_8040B2EC
lbl_8040B2E4:
/* 8040B2E4 00406F84  54 E7 08 3C */	slwi r7, r7, 1
/* 8040B2E8 00406F88  38 63 FF FF */	addi r3, r3, -1
lbl_8040B2EC:
/* 8040B2EC 00406F8C  2C 07 00 00 */	cmpwi r7, 0
/* 8040B2F0 00406F90  41 81 FF F4 */	bgt lbl_8040B2E4
/* 8040B2F4 00406F94  48 00 00 0C */	b lbl_8040B300
lbl_8040B2F8:
/* 8040B2F8 00406F98  7C 03 A6 70 */	srawi r3, r0, 0x14
/* 8040B2FC 00406F9C  38 63 FC 01 */	addi r3, r3, -1023
lbl_8040B300:
/* 8040B300 00406FA0  2C 0B FC 02 */	cmpwi r11, -1022
/* 8040B304 00406FA4  41 80 00 10 */	blt lbl_8040B314
/* 8040B308 00406FA8  55 07 03 3E */	clrlwi r7, r8, 0xc
/* 8040B30C 00406FAC  64 E9 00 10 */	oris r9, r7, 0x10
/* 8040B310 00406FB0  48 00 00 34 */	b lbl_8040B344
lbl_8040B314:
/* 8040B314 00406FB4  21 2B FC 02 */	subfic r9, r11, -1022
/* 8040B318 00406FB8  2C 09 00 1F */	cmpwi r9, 0x1f
/* 8040B31C 00406FBC  41 81 00 1C */	bgt lbl_8040B338
/* 8040B320 00406FC0  20 E9 00 20 */	subfic r7, r9, 0x20
/* 8040B324 00406FC4  7D 08 48 30 */	slw r8, r8, r9
/* 8040B328 00406FC8  7C A7 3C 30 */	srw r7, r5, r7
/* 8040B32C 00406FCC  7C A5 48 30 */	slw r5, r5, r9
/* 8040B330 00406FD0  7D 09 3B 78 */	or r9, r8, r7
/* 8040B334 00406FD4  48 00 00 10 */	b lbl_8040B344
lbl_8040B338:
/* 8040B338 00406FD8  38 E9 FF E0 */	addi r7, r9, -32
/* 8040B33C 00406FDC  7C A9 38 30 */	slw r9, r5, r7
/* 8040B340 00406FE0  38 A0 00 00 */	li r5, 0
lbl_8040B344:
/* 8040B344 00406FE4  2C 03 FC 02 */	cmpwi r3, -1022
/* 8040B348 00406FE8  41 80 00 10 */	blt lbl_8040B358
/* 8040B34C 00406FEC  54 00 03 3E */	clrlwi r0, r0, 0xc
/* 8040B350 00406FF0  64 08 00 10 */	oris r8, r0, 0x10
/* 8040B354 00406FF4  48 00 00 34 */	b lbl_8040B388
lbl_8040B358:
/* 8040B358 00406FF8  21 43 FC 02 */	subfic r10, r3, -1022
/* 8040B35C 00406FFC  2C 0A 00 1F */	cmpwi r10, 0x1f
/* 8040B360 00407000  41 81 00 1C */	bgt lbl_8040B37C
/* 8040B364 00407004  20 EA 00 20 */	subfic r7, r10, 0x20
/* 8040B368 00407008  7C 08 50 30 */	slw r8, r0, r10
/* 8040B36C 0040700C  7C C0 3C 30 */	srw r0, r6, r7
/* 8040B370 00407010  7C C6 50 30 */	slw r6, r6, r10
/* 8040B374 00407014  7D 08 03 78 */	or r8, r8, r0
/* 8040B378 00407018  48 00 00 10 */	b lbl_8040B388
lbl_8040B37C:
/* 8040B37C 0040701C  38 0A FF E0 */	addi r0, r10, -32
/* 8040B380 00407020  7C C8 00 30 */	slw r8, r6, r0
/* 8040B384 00407024  38 C0 00 00 */	li r6, 0
lbl_8040B388:
/* 8040B388 00407028  7C 03 58 51 */	subf. r0, r3, r11
/* 8040B38C 0040702C  7C 09 03 A6 */	mtctr r0
/* 8040B390 00407030  41 82 00 64 */	beq lbl_8040B3F4
lbl_8040B394:
/* 8040B394 00407034  7C 05 30 40 */	cmplw r5, r6
/* 8040B398 00407038  7C E8 48 50 */	subf r7, r8, r9
/* 8040B39C 0040703C  7D 46 28 50 */	subf r10, r6, r5
/* 8040B3A0 00407040  40 80 00 08 */	bge lbl_8040B3A8
/* 8040B3A4 00407044  38 E7 FF FF */	addi r7, r7, -1
lbl_8040B3A8:
/* 8040B3A8 00407048  2C 07 00 00 */	cmpwi r7, 0
/* 8040B3AC 0040704C  40 80 00 18 */	bge lbl_8040B3C4
/* 8040B3B0 00407050  54 A7 0F FE */	srwi r7, r5, 0x1f
/* 8040B3B4 00407054  55 20 08 3C */	slwi r0, r9, 1
/* 8040B3B8 00407058  7D 27 02 14 */	add r9, r7, r0
/* 8040B3BC 0040705C  7C A5 2A 14 */	add r5, r5, r5
/* 8040B3C0 00407060  48 00 00 30 */	b lbl_8040B3F0
lbl_8040B3C4:
/* 8040B3C4 00407064  7C E0 53 79 */	or. r0, r7, r10
/* 8040B3C8 00407068  40 82 00 18 */	bne lbl_8040B3E0
/* 8040B3CC 0040706C  3C 60 80 42 */	lis r3, "Zero"@ha
/* 8040B3D0 00407070  54 80 27 38 */	rlwinm r0, r4, 4, 0x1c, 0x1c
/* 8040B3D4 00407074  38 63 FA 78 */	addi r3, r3, "Zero"@l
/* 8040B3D8 00407078  7C 23 04 AE */	lfdx f1, r3, r0
/* 8040B3DC 0040707C  48 00 01 04 */	b lbl_8040B4E0
lbl_8040B3E0:
/* 8040B3E0 00407080  55 45 0F FE */	srwi r5, r10, 0x1f
/* 8040B3E4 00407084  54 E0 08 3C */	slwi r0, r7, 1
/* 8040B3E8 00407088  7D 25 02 14 */	add r9, r5, r0
/* 8040B3EC 0040708C  55 45 08 3C */	slwi r5, r10, 1
lbl_8040B3F0:
/* 8040B3F0 00407090  42 00 FF A4 */	bdnz lbl_8040B394
lbl_8040B3F4:
/* 8040B3F4 00407094  7C 05 30 40 */	cmplw r5, r6
/* 8040B3F8 00407098  7C E8 48 50 */	subf r7, r8, r9
/* 8040B3FC 0040709C  7C 06 28 50 */	subf r0, r6, r5
/* 8040B400 004070A0  40 80 00 08 */	bge lbl_8040B408
/* 8040B404 004070A4  38 E7 FF FF */	addi r7, r7, -1
lbl_8040B408:
/* 8040B408 004070A8  2C 07 00 00 */	cmpwi r7, 0
/* 8040B40C 004070AC  41 80 00 0C */	blt lbl_8040B418
/* 8040B410 004070B0  7C E9 3B 78 */	mr r9, r7
/* 8040B414 004070B4  7C 05 03 78 */	mr r5, r0
lbl_8040B418:
/* 8040B418 004070B8  7D 20 2B 79 */	or. r0, r9, r5
/* 8040B41C 004070BC  40 82 00 18 */	bne lbl_8040B434
/* 8040B420 004070C0  3C 60 80 42 */	lis r3, "Zero"@ha
/* 8040B424 004070C4  54 80 27 38 */	rlwinm r0, r4, 4, 0x1c, 0x1c
/* 8040B428 004070C8  38 63 FA 78 */	addi r3, r3, "Zero"@l
/* 8040B42C 004070CC  7C 23 04 AE */	lfdx f1, r3, r0
/* 8040B430 004070D0  48 00 00 B0 */	b lbl_8040B4E0
lbl_8040B434:
/* 8040B434 004070D4  3C 00 00 10 */	lis r0, 0x10
/* 8040B438 004070D8  48 00 00 18 */	b lbl_8040B450
lbl_8040B43C:
/* 8040B43C 004070DC  54 A7 0F FE */	srwi r7, r5, 0x1f
/* 8040B440 004070E0  55 26 08 3C */	slwi r6, r9, 1
/* 8040B444 004070E4  7D 27 32 14 */	add r9, r7, r6
/* 8040B448 004070E8  7C A5 2A 14 */	add r5, r5, r5
/* 8040B44C 004070EC  38 63 FF FF */	addi r3, r3, -1
lbl_8040B450:
/* 8040B450 004070F0  7C 09 00 00 */	cmpw r9, r0
/* 8040B454 004070F4  41 80 FF E8 */	blt lbl_8040B43C
/* 8040B458 004070F8  2C 03 FC 02 */	cmpwi r3, -1022
/* 8040B45C 004070FC  41 80 00 24 */	blt lbl_8040B480
/* 8040B460 00407100  38 03 03 FF */	addi r0, r3, 0x3ff
/* 8040B464 00407104  3C 69 FF F0 */	addis r3, r9, 0xfff0
/* 8040B468 00407108  54 00 A0 16 */	slwi r0, r0, 0x14
/* 8040B46C 0040710C  90 A1 00 0C */	stw r5, 0xc(r1)
/* 8040B470 00407110  7C 60 03 78 */	or r0, r3, r0
/* 8040B474 00407114  7C 00 23 78 */	or r0, r0, r4
/* 8040B478 00407118  90 01 00 08 */	stw r0, 8(r1)
/* 8040B47C 0040711C  48 00 00 60 */	b lbl_8040B4DC
lbl_8040B480:
/* 8040B480 00407120  20 C3 FC 02 */	subfic r6, r3, -1022
/* 8040B484 00407124  2C 06 00 14 */	cmpwi r6, 0x14
/* 8040B488 00407128  41 81 00 1C */	bgt lbl_8040B4A4
/* 8040B48C 0040712C  20 06 00 20 */	subfic r0, r6, 0x20
/* 8040B490 00407130  7C A3 34 30 */	srw r3, r5, r6
/* 8040B494 00407134  7D 20 00 30 */	slw r0, r9, r0
/* 8040B498 00407138  7D 29 36 30 */	sraw r9, r9, r6
/* 8040B49C 0040713C  7C 63 03 78 */	or r3, r3, r0
/* 8040B4A0 00407140  48 00 00 30 */	b lbl_8040B4D0
lbl_8040B4A4:
/* 8040B4A4 00407144  2C 06 00 1F */	cmpwi r6, 0x1f
/* 8040B4A8 00407148  41 81 00 1C */	bgt lbl_8040B4C4
/* 8040B4AC 0040714C  20 66 00 20 */	subfic r3, r6, 0x20
/* 8040B4B0 00407150  7C A0 34 30 */	srw r0, r5, r6
/* 8040B4B4 00407154  7D 23 18 30 */	slw r3, r9, r3
/* 8040B4B8 00407158  7C 89 23 78 */	mr r9, r4
/* 8040B4BC 0040715C  7C 63 03 78 */	or r3, r3, r0
/* 8040B4C0 00407160  48 00 00 10 */	b lbl_8040B4D0
lbl_8040B4C4:
/* 8040B4C4 00407164  38 06 FF E0 */	addi r0, r6, -32
/* 8040B4C8 00407168  7D 23 06 30 */	sraw r3, r9, r0
/* 8040B4CC 0040716C  7C 89 23 78 */	mr r9, r4
lbl_8040B4D0:
/* 8040B4D0 00407170  7D 20 23 78 */	or r0, r9, r4
/* 8040B4D4 00407174  90 61 00 0C */	stw r3, 0xc(r1)
/* 8040B4D8 00407178  90 01 00 08 */	stw r0, 8(r1)
lbl_8040B4DC:
/* 8040B4DC 0040717C  C8 21 00 08 */	lfd f1, 8(r1)
lbl_8040B4E0:
/* 8040B4E0 00407180  38 21 00 20 */	addi r1, r1, 0x20
/* 8040B4E4 00407184  4E 80 00 20 */	blr 

.section .rodata, "a"  # 0x80418C80 - 0x80420060
.global "Zero"
"Zero":
	.incbin "baserom.dol", 0x41BB78, 0x10
