.include "macros.inc"

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "BTM_SecAddDevice"
"BTM_SecAddDevice":
/* 80346A58 003426F8  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80346A5C 003426FC  7C 08 02 A6 */	mflr r0
/* 80346A60 00342700  90 01 00 34 */	stw r0, 0x34(r1)
/* 80346A64 00342704  39 61 00 30 */	addi r11, r1, 0x30
/* 80346A68 00342708  48 0C 89 01 */	bl "_savegpr_24"
/* 80346A6C 0034270C  3D 20 80 58 */	lis r9, "btm_cb"@ha
/* 80346A70 00342710  7C 78 1B 78 */	mr r24, r3
/* 80346A74 00342714  39 29 42 98 */	addi r9, r9, "btm_cb"@l
/* 80346A78 00342718  7C 99 23 78 */	mr r25, r4
/* 80346A7C 0034271C  7C BA 2B 78 */	mr r26, r5
/* 80346A80 00342720  7C DB 33 78 */	mr r27, r6
/* 80346A84 00342724  7C FC 3B 78 */	mr r28, r7
/* 80346A88 00342728  7D 1D 43 78 */	mr r29, r8
/* 80346A8C 0034272C  3B C9 1F 30 */	addi r30, r9, 0x1f30
/* 80346A90 00342730  3B E0 00 00 */	li r31, 0
lbl_80346A94:
/* 80346A94 00342734  88 1E 00 76 */	lbz r0, 0x76(r30)
/* 80346A98 00342738  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 80346A9C 0034273C  41 82 00 20 */	beq lbl_80346ABC
/* 80346AA0 00342740  7F 04 C3 78 */	mr r4, r24
/* 80346AA4 00342744  38 7E 00 1C */	addi r3, r30, 0x1c
/* 80346AA8 00342748  38 A0 00 06 */	li r5, 6
/* 80346AAC 0034274C  48 0B EF 4D */	bl "memcmp"
/* 80346AB0 00342750  2C 03 00 00 */	cmpwi r3, 0
/* 80346AB4 00342754  40 82 00 08 */	bne lbl_80346ABC
/* 80346AB8 00342758  48 00 00 18 */	b lbl_80346AD0
lbl_80346ABC:
/* 80346ABC 0034275C  3B FF 00 01 */	addi r31, r31, 1
/* 80346AC0 00342760  3B DE 00 88 */	addi r30, r30, 0x88
/* 80346AC4 00342764  2C 1F 00 10 */	cmpwi r31, 0x10
/* 80346AC8 00342768  41 80 FF CC */	blt lbl_80346A94
/* 80346ACC 0034276C  3B C0 00 00 */	li r30, 0
lbl_80346AD0:
/* 80346AD0 00342770  2C 1E 00 00 */	cmpwi r30, 0
/* 80346AD4 00342774  40 82 00 20 */	bne lbl_80346AF4
/* 80346AD8 00342778  7F 03 C3 78 */	mr r3, r24
/* 80346ADC 0034277C  48 00 02 51 */	bl "btm_sec_alloc_dev"
/* 80346AE0 00342780  2C 03 00 00 */	cmpwi r3, 0
/* 80346AE4 00342784  7C 7E 1B 78 */	mr r30, r3
/* 80346AE8 00342788  40 82 00 24 */	bne lbl_80346B0C
/* 80346AEC 0034278C  38 60 00 00 */	li r3, 0
/* 80346AF0 00342790  48 00 00 D8 */	b lbl_80346BC8
lbl_80346AF4:
/* 80346AF4 00342794  3C 80 80 58 */	lis r4, "btm_cb"@ha
/* 80346AF8 00342798  38 84 42 98 */	addi r4, r4, "btm_cb"@l
/* 80346AFC 0034279C  80 64 19 74 */	lwz r3, 0x1974(r4)
/* 80346B00 003427A0  90 7E 00 0C */	stw r3, 0xc(r30)
/* 80346B04 003427A4  38 03 00 01 */	addi r0, r3, 1
/* 80346B08 003427A8  90 04 19 74 */	stw r0, 0x1974(r4)
lbl_80346B0C:
/* 80346B0C 003427AC  2C 19 00 00 */	cmpwi r25, 0
/* 80346B10 003427B0  41 82 00 14 */	beq lbl_80346B24
/* 80346B14 003427B4  7F 24 CB 78 */	mr r4, r25
/* 80346B18 003427B8  38 7E 00 22 */	addi r3, r30, 0x22
/* 80346B1C 003427BC  38 A0 00 03 */	li r5, 3
/* 80346B20 003427C0  4B CB D8 19 */	bl "memcpy"
lbl_80346B24:
/* 80346B24 003427C4  38 7E 00 35 */	addi r3, r30, 0x35
/* 80346B28 003427C8  38 80 00 00 */	li r4, 0
/* 80346B2C 003427CC  38 A0 00 41 */	li r5, 0x41
/* 80346B30 003427D0  4B CB D9 0D */	bl "memset"
/* 80346B34 003427D4  2C 1A 00 00 */	cmpwi r26, 0
/* 80346B38 003427D8  41 82 00 2C */	beq lbl_80346B64
/* 80346B3C 003427DC  88 1A 00 00 */	lbz r0, 0(r26)
/* 80346B40 003427E0  2C 00 00 00 */	cmpwi r0, 0
/* 80346B44 003427E4  41 82 00 20 */	beq lbl_80346B64
/* 80346B48 003427E8  88 1E 00 76 */	lbz r0, 0x76(r30)
/* 80346B4C 003427EC  7F 44 D3 78 */	mr r4, r26
/* 80346B50 003427F0  38 7E 00 35 */	addi r3, r30, 0x35
/* 80346B54 003427F4  38 A0 00 40 */	li r5, 0x40
/* 80346B58 003427F8  60 00 00 08 */	ori r0, r0, 8
/* 80346B5C 003427FC  98 1E 00 76 */	stb r0, 0x76(r30)
/* 80346B60 00342800  48 0C 19 D1 */	bl "strncpy"
lbl_80346B64:
/* 80346B64 00342804  2C 1B 00 00 */	cmpwi r27, 0
/* 80346B68 00342808  41 82 00 18 */	beq lbl_80346B80
/* 80346B6C 0034280C  7F 64 DB 78 */	mr r4, r27
/* 80346B70 00342810  38 7E 00 77 */	addi r3, r30, 0x77
/* 80346B74 00342814  38 A0 00 08 */	li r5, 8
/* 80346B78 00342818  4B CB D7 C1 */	bl "memcpy"
/* 80346B7C 0034281C  48 00 00 14 */	b lbl_80346B90
lbl_80346B80:
/* 80346B80 00342820  38 7E 00 77 */	addi r3, r30, 0x77
/* 80346B84 00342824  38 80 00 00 */	li r4, 0
/* 80346B88 00342828  38 A0 00 08 */	li r5, 8
/* 80346B8C 0034282C  4B CB D8 B1 */	bl "memset"
lbl_80346B90:
/* 80346B90 00342830  80 1C 00 00 */	lwz r0, 0(r28)
/* 80346B94 00342834  2C 1D 00 00 */	cmpwi r29, 0
/* 80346B98 00342838  90 1E 00 10 */	stw r0, 0x10(r30)
/* 80346B9C 0034283C  80 1C 00 04 */	lwz r0, 4(r28)
/* 80346BA0 00342840  90 1E 00 14 */	stw r0, 0x14(r30)
/* 80346BA4 00342844  41 82 00 20 */	beq lbl_80346BC4
/* 80346BA8 00342848  88 1E 00 76 */	lbz r0, 0x76(r30)
/* 80346BAC 0034284C  7F A4 EB 78 */	mr r4, r29
/* 80346BB0 00342850  38 7E 00 25 */	addi r3, r30, 0x25
/* 80346BB4 00342854  38 A0 00 10 */	li r5, 0x10
/* 80346BB8 00342858  60 00 00 10 */	ori r0, r0, 0x10
/* 80346BBC 0034285C  98 1E 00 76 */	stb r0, 0x76(r30)
/* 80346BC0 00342860  4B CB D7 79 */	bl "memcpy"
lbl_80346BC4:
/* 80346BC4 00342864  38 60 00 01 */	li r3, 1
lbl_80346BC8:
/* 80346BC8 00342868  39 61 00 30 */	addi r11, r1, 0x30
/* 80346BCC 0034286C  48 0C 87 E9 */	bl "_restgpr_24"
/* 80346BD0 00342870  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80346BD4 00342874  7C 08 03 A6 */	mtlr r0
/* 80346BD8 00342878  38 21 00 30 */	addi r1, r1, 0x30
/* 80346BDC 0034287C  4E 80 00 20 */	blr

.global "BTM_SecDeleteDevice"
"BTM_SecDeleteDevice":
/* 80346BE0 00342880  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80346BE4 00342884  7C 08 02 A6 */	mflr r0
/* 80346BE8 00342888  3C 80 80 58 */	lis r4, "btm_cb"@ha
/* 80346BEC 0034288C  90 01 00 24 */	stw r0, 0x24(r1)
/* 80346BF0 00342890  38 84 42 98 */	addi r4, r4, "btm_cb"@l
/* 80346BF4 00342894  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80346BF8 00342898  3B E0 00 00 */	li r31, 0
/* 80346BFC 0034289C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80346C00 003428A0  3B C4 1F 30 */	addi r30, r4, 0x1f30
/* 80346C04 003428A4  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80346C08 003428A8  7C 7D 1B 78 */	mr r29, r3
lbl_80346C0C:
/* 80346C0C 003428AC  88 1E 00 76 */	lbz r0, 0x76(r30)
/* 80346C10 003428B0  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 80346C14 003428B4  41 82 00 20 */	beq lbl_80346C34
/* 80346C18 003428B8  7F A4 EB 78 */	mr r4, r29
/* 80346C1C 003428BC  38 7E 00 1C */	addi r3, r30, 0x1c
/* 80346C20 003428C0  38 A0 00 06 */	li r5, 6
/* 80346C24 003428C4  48 0B ED D5 */	bl "memcmp"
/* 80346C28 003428C8  2C 03 00 00 */	cmpwi r3, 0
/* 80346C2C 003428CC  40 82 00 08 */	bne lbl_80346C34
/* 80346C30 003428D0  48 00 00 18 */	b lbl_80346C48
lbl_80346C34:
/* 80346C34 003428D4  3B FF 00 01 */	addi r31, r31, 1
/* 80346C38 003428D8  3B DE 00 88 */	addi r30, r30, 0x88
/* 80346C3C 003428DC  2C 1F 00 10 */	cmpwi r31, 0x10
/* 80346C40 003428E0  41 80 FF CC */	blt lbl_80346C0C
/* 80346C44 003428E4  3B C0 00 00 */	li r30, 0
lbl_80346C48:
/* 80346C48 003428E8  2C 1E 00 00 */	cmpwi r30, 0
/* 80346C4C 003428EC  40 82 00 0C */	bne lbl_80346C58
/* 80346C50 003428F0  38 60 00 00 */	li r3, 0
/* 80346C54 003428F4  48 00 00 1C */	b lbl_80346C70
lbl_80346C58:
/* 80346C58 003428F8  38 00 00 00 */	li r0, 0
/* 80346C5C 003428FC  7F A3 EB 78 */	mr r3, r29
/* 80346C60 00342900  98 1E 00 76 */	stb r0, 0x76(r30)
/* 80346C64 00342904  38 80 00 00 */	li r4, 0
/* 80346C68 00342908  48 00 1A 89 */	bl "BTM_DeleteStoredLinkKey"
/* 80346C6C 0034290C  38 60 00 01 */	li r3, 1
lbl_80346C70:
/* 80346C70 00342910  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80346C74 00342914  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80346C78 00342918  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80346C7C 0034291C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80346C80 00342920  7C 08 03 A6 */	mtlr r0
/* 80346C84 00342924  38 21 00 20 */	addi r1, r1, 0x20
/* 80346C88 00342928  4E 80 00 20 */	blr

.global "BTM_SecReadDevName"
"BTM_SecReadDevName":
/* 80346C8C 0034292C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80346C90 00342930  7C 08 02 A6 */	mflr r0
/* 80346C94 00342934  3C 80 80 58 */	lis r4, "btm_cb"@ha
/* 80346C98 00342938  90 01 00 24 */	stw r0, 0x24(r1)
/* 80346C9C 0034293C  38 84 42 98 */	addi r4, r4, "btm_cb"@l
/* 80346CA0 00342940  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80346CA4 00342944  3B E0 00 00 */	li r31, 0
/* 80346CA8 00342948  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80346CAC 0034294C  3B C4 1F 30 */	addi r30, r4, 0x1f30
/* 80346CB0 00342950  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80346CB4 00342954  3B A0 00 00 */	li r29, 0
/* 80346CB8 00342958  93 81 00 10 */	stw r28, 0x10(r1)
/* 80346CBC 0034295C  7C 7C 1B 78 */	mr r28, r3
lbl_80346CC0:
/* 80346CC0 00342960  88 1E 00 76 */	lbz r0, 0x76(r30)
/* 80346CC4 00342964  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 80346CC8 00342968  41 82 00 20 */	beq lbl_80346CE8
/* 80346CCC 0034296C  7F 84 E3 78 */	mr r4, r28
/* 80346CD0 00342970  38 7E 00 1C */	addi r3, r30, 0x1c
/* 80346CD4 00342974  38 A0 00 06 */	li r5, 6
/* 80346CD8 00342978  48 0B ED 21 */	bl "memcmp"
/* 80346CDC 0034297C  2C 03 00 00 */	cmpwi r3, 0
/* 80346CE0 00342980  40 82 00 08 */	bne lbl_80346CE8
/* 80346CE4 00342984  48 00 00 18 */	b lbl_80346CFC
lbl_80346CE8:
/* 80346CE8 00342988  3B FF 00 01 */	addi r31, r31, 1
/* 80346CEC 0034298C  3B DE 00 88 */	addi r30, r30, 0x88
/* 80346CF0 00342990  2C 1F 00 10 */	cmpwi r31, 0x10
/* 80346CF4 00342994  41 80 FF CC */	blt lbl_80346CC0
/* 80346CF8 00342998  3B C0 00 00 */	li r30, 0
lbl_80346CFC:
/* 80346CFC 0034299C  2C 1E 00 00 */	cmpwi r30, 0
/* 80346D00 003429A0  41 82 00 08 */	beq lbl_80346D08
/* 80346D04 003429A4  3B BE 00 35 */	addi r29, r30, 0x35
lbl_80346D08:
/* 80346D08 003429A8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80346D0C 003429AC  7F A3 EB 78 */	mr r3, r29
/* 80346D10 003429B0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80346D14 003429B4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80346D18 003429B8  83 81 00 10 */	lwz r28, 0x10(r1)
/* 80346D1C 003429BC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80346D20 003429C0  7C 08 03 A6 */	mtlr r0
/* 80346D24 003429C4  38 21 00 20 */	addi r1, r1, 0x20
/* 80346D28 003429C8  4E 80 00 20 */	blr

.global "btm_sec_alloc_dev"
"btm_sec_alloc_dev":
/* 80346D2C 003429CC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80346D30 003429D0  7C 08 02 A6 */	mflr r0
/* 80346D34 003429D4  3C 80 80 58 */	lis r4, "btm_cb"@ha
/* 80346D38 003429D8  90 01 00 14 */	stw r0, 0x14(r1)
/* 80346D3C 003429DC  38 00 00 10 */	li r0, 0x10
/* 80346D40 003429E0  38 84 42 98 */	addi r4, r4, "btm_cb"@l
/* 80346D44 003429E4  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80346D48 003429E8  3B E0 00 00 */	li r31, 0
/* 80346D4C 003429EC  93 C1 00 08 */	stw r30, 8(r1)
/* 80346D50 003429F0  7C 7E 1B 78 */	mr r30, r3
/* 80346D54 003429F4  38 60 00 00 */	li r3, 0
/* 80346D58 003429F8  7C 09 03 A6 */	mtctr r0
lbl_80346D5C:
/* 80346D5C 003429FC  88 04 1F A6 */	lbz r0, 0x1fa6(r4)
/* 80346D60 00342A00  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 80346D64 00342A04  40 82 00 1C */	bne lbl_80346D80
/* 80346D68 00342A08  1C 03 00 88 */	mulli r0, r3, 0x88
/* 80346D6C 00342A0C  3C 60 80 58 */	lis r3, "btm_cb"@ha
/* 80346D70 00342A10  38 63 42 98 */	addi r3, r3, "btm_cb"@l
/* 80346D74 00342A14  7C 63 02 14 */	add r3, r3, r0
/* 80346D78 00342A18  3B E3 1F 30 */	addi r31, r3, 0x1f30
/* 80346D7C 00342A1C  48 00 00 10 */	b lbl_80346D8C
lbl_80346D80:
/* 80346D80 00342A20  38 84 00 88 */	addi r4, r4, 0x88
/* 80346D84 00342A24  38 63 00 01 */	addi r3, r3, 1
/* 80346D88 00342A28  42 00 FF D4 */	bdnz lbl_80346D5C
lbl_80346D8C:
/* 80346D8C 00342A2C  2C 1F 00 00 */	cmpwi r31, 0
/* 80346D90 00342A30  40 82 00 0C */	bne lbl_80346D9C
/* 80346D94 00342A34  48 00 01 F9 */	bl "btm_find_oldest_dev"
/* 80346D98 00342A38  7C 7F 1B 78 */	mr r31, r3
lbl_80346D9C:
/* 80346D9C 00342A3C  7F E3 FB 78 */	mr r3, r31
/* 80346DA0 00342A40  38 80 00 00 */	li r4, 0
/* 80346DA4 00342A44  38 A0 00 88 */	li r5, 0x88
/* 80346DA8 00342A48  4B CB D6 95 */	bl "memset"
/* 80346DAC 00342A4C  38 60 00 80 */	li r3, 0x80
/* 80346DB0 00342A50  38 00 00 00 */	li r0, 0
/* 80346DB4 00342A54  98 7F 00 76 */	stb r3, 0x76(r31)
/* 80346DB8 00342A58  7F C3 F3 78 */	mr r3, r30
/* 80346DBC 00342A5C  98 1F 00 85 */	stb r0, 0x85(r31)
/* 80346DC0 00342A60  48 00 28 51 */	bl "BTM_InqDbRead"
/* 80346DC4 00342A64  2C 03 00 00 */	cmpwi r3, 0
/* 80346DC8 00342A68  7C 64 1B 78 */	mr r4, r3
/* 80346DCC 00342A6C  41 82 00 18 */	beq lbl_80346DE4
/* 80346DD0 00342A70  38 7F 00 22 */	addi r3, r31, 0x22
/* 80346DD4 00342A74  38 84 00 08 */	addi r4, r4, 8
/* 80346DD8 00342A78  38 A0 00 03 */	li r5, 3
/* 80346DDC 00342A7C  4B CB D5 5D */	bl "memcpy"
/* 80346DE0 00342A80  48 00 00 1C */	b lbl_80346DFC
lbl_80346DE4:
/* 80346DE4 00342A84  3C 80 80 58 */	lis r4, "btm_cb"@ha
/* 80346DE8 00342A88  38 7F 00 22 */	addi r3, r31, 0x22
/* 80346DEC 00342A8C  38 84 42 98 */	addi r4, r4, "btm_cb"@l
/* 80346DF0 00342A90  38 A0 00 03 */	li r5, 3
/* 80346DF4 00342A94  38 84 27 BA */	addi r4, r4, 0x27ba
/* 80346DF8 00342A98  4B CB D5 41 */	bl "memcpy"
lbl_80346DFC:
/* 80346DFC 00342A9C  7F C4 F3 78 */	mr r4, r30
/* 80346E00 00342AA0  38 7F 00 1C */	addi r3, r31, 0x1c
/* 80346E04 00342AA4  38 A0 00 06 */	li r5, 6
/* 80346E08 00342AA8  4B CB D5 31 */	bl "memcpy"
/* 80346E0C 00342AAC  7F C3 F3 78 */	mr r3, r30
/* 80346E10 00342AB0  4B FF EE 7D */	bl "BTM_GetHCIConnHandle"
/* 80346E14 00342AB4  B0 7F 00 18 */	sth r3, 0x18(r31)
/* 80346E18 00342AB8  3C A0 80 58 */	lis r5, "btm_cb"@ha
/* 80346E1C 00342ABC  38 A5 42 98 */	addi r5, r5, "btm_cb"@l
/* 80346E20 00342AC0  7F E3 FB 78 */	mr r3, r31
/* 80346E24 00342AC4  80 85 19 74 */	lwz r4, 0x1974(r5)
/* 80346E28 00342AC8  90 9F 00 0C */	stw r4, 0xc(r31)
/* 80346E2C 00342ACC  38 04 00 01 */	addi r0, r4, 1
/* 80346E30 00342AD0  90 05 19 74 */	stw r0, 0x1974(r5)
/* 80346E34 00342AD4  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80346E38 00342AD8  83 C1 00 08 */	lwz r30, 8(r1)
/* 80346E3C 00342ADC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80346E40 00342AE0  7C 08 03 A6 */	mtlr r0
/* 80346E44 00342AE4  38 21 00 10 */	addi r1, r1, 0x10
/* 80346E48 00342AE8  4E 80 00 20 */	blr

.global "btm_find_dev_by_handle"
"btm_find_dev_by_handle":
/* 80346E4C 00342AEC  3C 80 80 58 */	lis r4, "btm_cb"@ha
/* 80346E50 00342AF0  38 00 00 04 */	li r0, 4
/* 80346E54 00342AF4  38 84 42 98 */	addi r4, r4, "btm_cb"@l
/* 80346E58 00342AF8  38 A0 00 00 */	li r5, 0
/* 80346E5C 00342AFC  38 84 1F 30 */	addi r4, r4, 0x1f30
/* 80346E60 00342B00  7C 09 03 A6 */	mtctr r0
lbl_80346E64:
/* 80346E64 00342B04  88 04 00 76 */	lbz r0, 0x76(r4)
/* 80346E68 00342B08  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 80346E6C 00342B0C  41 82 00 18 */	beq lbl_80346E84
/* 80346E70 00342B10  A0 04 00 18 */	lhz r0, 0x18(r4)
/* 80346E74 00342B14  7C 00 18 40 */	cmplw r0, r3
/* 80346E78 00342B18  40 82 00 0C */	bne lbl_80346E84
/* 80346E7C 00342B1C  7C 83 23 78 */	mr r3, r4
/* 80346E80 00342B20  4E 80 00 20 */	blr
lbl_80346E84:
/* 80346E84 00342B24  88 04 00 FE */	lbz r0, 0xfe(r4)
/* 80346E88 00342B28  38 84 00 88 */	addi r4, r4, 0x88
/* 80346E8C 00342B2C  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 80346E90 00342B30  41 82 00 18 */	beq lbl_80346EA8
/* 80346E94 00342B34  A0 04 00 18 */	lhz r0, 0x18(r4)
/* 80346E98 00342B38  7C 00 18 40 */	cmplw r0, r3
/* 80346E9C 00342B3C  40 82 00 0C */	bne lbl_80346EA8
/* 80346EA0 00342B40  7C 83 23 78 */	mr r3, r4
/* 80346EA4 00342B44  4E 80 00 20 */	blr
lbl_80346EA8:
/* 80346EA8 00342B48  88 04 00 FE */	lbz r0, 0xfe(r4)
/* 80346EAC 00342B4C  38 84 00 88 */	addi r4, r4, 0x88
/* 80346EB0 00342B50  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 80346EB4 00342B54  41 82 00 18 */	beq lbl_80346ECC
/* 80346EB8 00342B58  A0 04 00 18 */	lhz r0, 0x18(r4)
/* 80346EBC 00342B5C  7C 00 18 40 */	cmplw r0, r3
/* 80346EC0 00342B60  40 82 00 0C */	bne lbl_80346ECC
/* 80346EC4 00342B64  7C 83 23 78 */	mr r3, r4
/* 80346EC8 00342B68  4E 80 00 20 */	blr
lbl_80346ECC:
/* 80346ECC 00342B6C  88 04 00 FE */	lbz r0, 0xfe(r4)
/* 80346ED0 00342B70  38 84 00 88 */	addi r4, r4, 0x88
/* 80346ED4 00342B74  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 80346ED8 00342B78  41 82 00 18 */	beq lbl_80346EF0
/* 80346EDC 00342B7C  A0 04 00 18 */	lhz r0, 0x18(r4)
/* 80346EE0 00342B80  7C 00 18 40 */	cmplw r0, r3
/* 80346EE4 00342B84  40 82 00 0C */	bne lbl_80346EF0
/* 80346EE8 00342B88  7C 83 23 78 */	mr r3, r4
/* 80346EEC 00342B8C  4E 80 00 20 */	blr
lbl_80346EF0:
/* 80346EF0 00342B90  38 A5 00 03 */	addi r5, r5, 3
/* 80346EF4 00342B94  38 84 00 88 */	addi r4, r4, 0x88
/* 80346EF8 00342B98  42 00 FF 6C */	bdnz lbl_80346E64
/* 80346EFC 00342B9C  38 60 00 00 */	li r3, 0
/* 80346F00 00342BA0  4E 80 00 20 */	blr

.global "btm_find_dev"
"btm_find_dev":
/* 80346F04 00342BA4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80346F08 00342BA8  7C 08 02 A6 */	mflr r0
/* 80346F0C 00342BAC  3C 80 80 58 */	lis r4, "btm_cb"@ha
/* 80346F10 00342BB0  90 01 00 24 */	stw r0, 0x24(r1)
/* 80346F14 00342BB4  38 84 42 98 */	addi r4, r4, "btm_cb"@l
/* 80346F18 00342BB8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80346F1C 00342BBC  3B E4 1F 30 */	addi r31, r4, 0x1f30
/* 80346F20 00342BC0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80346F24 00342BC4  3B C0 00 00 */	li r30, 0
/* 80346F28 00342BC8  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80346F2C 00342BCC  7C 7D 1B 78 */	mr r29, r3
lbl_80346F30:
/* 80346F30 00342BD0  88 1F 00 76 */	lbz r0, 0x76(r31)
/* 80346F34 00342BD4  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 80346F38 00342BD8  41 82 00 24 */	beq lbl_80346F5C
/* 80346F3C 00342BDC  7F A4 EB 78 */	mr r4, r29
/* 80346F40 00342BE0  38 7F 00 1C */	addi r3, r31, 0x1c
/* 80346F44 00342BE4  38 A0 00 06 */	li r5, 6
/* 80346F48 00342BE8  48 0B EA B1 */	bl "memcmp"
/* 80346F4C 00342BEC  2C 03 00 00 */	cmpwi r3, 0
/* 80346F50 00342BF0  40 82 00 0C */	bne lbl_80346F5C
/* 80346F54 00342BF4  7F E3 FB 78 */	mr r3, r31
/* 80346F58 00342BF8  48 00 00 18 */	b lbl_80346F70
lbl_80346F5C:
/* 80346F5C 00342BFC  3B DE 00 01 */	addi r30, r30, 1
/* 80346F60 00342C00  3B FF 00 88 */	addi r31, r31, 0x88
/* 80346F64 00342C04  2C 1E 00 10 */	cmpwi r30, 0x10
/* 80346F68 00342C08  41 80 FF C8 */	blt lbl_80346F30
/* 80346F6C 00342C0C  38 60 00 00 */	li r3, 0
lbl_80346F70:
/* 80346F70 00342C10  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80346F74 00342C14  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80346F78 00342C18  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80346F7C 00342C1C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80346F80 00342C20  7C 08 03 A6 */	mtlr r0
/* 80346F84 00342C24  38 21 00 20 */	addi r1, r1, 0x20
/* 80346F88 00342C28  4E 80 00 20 */	blr

.global "btm_find_oldest_dev"
"btm_find_oldest_dev":
/* 80346F8C 00342C2C  3C 60 80 58 */	lis r3, "btm_cb"@ha
/* 80346F90 00342C30  38 00 00 04 */	li r0, 4
/* 80346F94 00342C34  38 63 42 98 */	addi r3, r3, "btm_cb"@l
/* 80346F98 00342C38  38 C0 FF FF */	li r6, -1
/* 80346F9C 00342C3C  38 A3 1F 30 */	addi r5, r3, 0x1f30
/* 80346FA0 00342C40  38 E0 00 00 */	li r7, 0
/* 80346FA4 00342C44  7C A3 2B 78 */	mr r3, r5
/* 80346FA8 00342C48  7C 09 03 A6 */	mtctr r0
lbl_80346FAC:
/* 80346FAC 00342C4C  88 85 00 76 */	lbz r4, 0x76(r5)
/* 80346FB0 00342C50  54 80 06 31 */	rlwinm. r0, r4, 0, 0x18, 0x18
/* 80346FB4 00342C54  41 82 00 20 */	beq lbl_80346FD4
/* 80346FB8 00342C58  54 80 06 F7 */	rlwinm. r0, r4, 0, 0x1b, 0x1b
/* 80346FBC 00342C5C  40 82 00 18 */	bne lbl_80346FD4
/* 80346FC0 00342C60  80 05 00 0C */	lwz r0, 0xc(r5)
/* 80346FC4 00342C64  7C 00 30 40 */	cmplw r0, r6
/* 80346FC8 00342C68  40 80 00 0C */	bge lbl_80346FD4
/* 80346FCC 00342C6C  7C A3 2B 78 */	mr r3, r5
/* 80346FD0 00342C70  7C 06 03 78 */	mr r6, r0
lbl_80346FD4:
/* 80346FD4 00342C74  88 85 00 FE */	lbz r4, 0xfe(r5)
/* 80346FD8 00342C78  38 A5 00 88 */	addi r5, r5, 0x88
/* 80346FDC 00342C7C  54 80 06 31 */	rlwinm. r0, r4, 0, 0x18, 0x18
/* 80346FE0 00342C80  41 82 00 20 */	beq lbl_80347000
/* 80346FE4 00342C84  54 80 06 F7 */	rlwinm. r0, r4, 0, 0x1b, 0x1b
/* 80346FE8 00342C88  40 82 00 18 */	bne lbl_80347000
/* 80346FEC 00342C8C  80 05 00 0C */	lwz r0, 0xc(r5)
/* 80346FF0 00342C90  7C 00 30 40 */	cmplw r0, r6
/* 80346FF4 00342C94  40 80 00 0C */	bge lbl_80347000
/* 80346FF8 00342C98  7C A3 2B 78 */	mr r3, r5
/* 80346FFC 00342C9C  7C 06 03 78 */	mr r6, r0
lbl_80347000:
/* 80347000 00342CA0  88 85 00 FE */	lbz r4, 0xfe(r5)
/* 80347004 00342CA4  38 A5 00 88 */	addi r5, r5, 0x88
/* 80347008 00342CA8  54 80 06 31 */	rlwinm. r0, r4, 0, 0x18, 0x18
/* 8034700C 00342CAC  41 82 00 20 */	beq lbl_8034702C
/* 80347010 00342CB0  54 80 06 F7 */	rlwinm. r0, r4, 0, 0x1b, 0x1b
/* 80347014 00342CB4  40 82 00 18 */	bne lbl_8034702C
/* 80347018 00342CB8  80 05 00 0C */	lwz r0, 0xc(r5)
/* 8034701C 00342CBC  7C 00 30 40 */	cmplw r0, r6
/* 80347020 00342CC0  40 80 00 0C */	bge lbl_8034702C
/* 80347024 00342CC4  7C A3 2B 78 */	mr r3, r5
/* 80347028 00342CC8  7C 06 03 78 */	mr r6, r0
lbl_8034702C:
/* 8034702C 00342CCC  88 85 00 FE */	lbz r4, 0xfe(r5)
/* 80347030 00342CD0  38 A5 00 88 */	addi r5, r5, 0x88
/* 80347034 00342CD4  54 80 06 31 */	rlwinm. r0, r4, 0, 0x18, 0x18
/* 80347038 00342CD8  41 82 00 20 */	beq lbl_80347058
/* 8034703C 00342CDC  54 80 06 F7 */	rlwinm. r0, r4, 0, 0x1b, 0x1b
/* 80347040 00342CE0  40 82 00 18 */	bne lbl_80347058
/* 80347044 00342CE4  80 05 00 0C */	lwz r0, 0xc(r5)
/* 80347048 00342CE8  7C 00 30 40 */	cmplw r0, r6
/* 8034704C 00342CEC  40 80 00 0C */	bge lbl_80347058
/* 80347050 00342CF0  7C A3 2B 78 */	mr r3, r5
/* 80347054 00342CF4  7C 06 03 78 */	mr r6, r0
lbl_80347058:
/* 80347058 00342CF8  38 E7 00 03 */	addi r7, r7, 3
/* 8034705C 00342CFC  38 A5 00 88 */	addi r5, r5, 0x88
/* 80347060 00342D00  42 00 FF 4C */	bdnz lbl_80346FAC
/* 80347064 00342D04  3C 06 00 01 */	addis r0, r6, 1
/* 80347068 00342D08  28 00 FF FF */	cmplwi r0, 0xffff
/* 8034706C 00342D0C  4C 82 00 20 */	bnelr
/* 80347070 00342D10  3C 80 80 58 */	lis r4, "btm_cb"@ha
/* 80347074 00342D14  38 00 00 04 */	li r0, 4
/* 80347078 00342D18  38 84 42 98 */	addi r4, r4, "btm_cb"@l
/* 8034707C 00342D1C  38 A0 00 00 */	li r5, 0
/* 80347080 00342D20  38 84 1F 30 */	addi r4, r4, 0x1f30
/* 80347084 00342D24  7C 09 03 A6 */	mtctr r0
lbl_80347088:
/* 80347088 00342D28  88 04 00 76 */	lbz r0, 0x76(r4)
/* 8034708C 00342D2C  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 80347090 00342D30  41 82 00 18 */	beq lbl_803470A8
/* 80347094 00342D34  80 04 00 0C */	lwz r0, 0xc(r4)
/* 80347098 00342D38  7C 00 30 40 */	cmplw r0, r6
/* 8034709C 00342D3C  40 80 00 0C */	bge lbl_803470A8
/* 803470A0 00342D40  7C 83 23 78 */	mr r3, r4
/* 803470A4 00342D44  7C 06 03 78 */	mr r6, r0
lbl_803470A8:
/* 803470A8 00342D48  88 04 00 FE */	lbz r0, 0xfe(r4)
/* 803470AC 00342D4C  38 84 00 88 */	addi r4, r4, 0x88
/* 803470B0 00342D50  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 803470B4 00342D54  41 82 00 18 */	beq lbl_803470CC
/* 803470B8 00342D58  80 04 00 0C */	lwz r0, 0xc(r4)
/* 803470BC 00342D5C  7C 00 30 40 */	cmplw r0, r6
/* 803470C0 00342D60  40 80 00 0C */	bge lbl_803470CC
/* 803470C4 00342D64  7C 83 23 78 */	mr r3, r4
/* 803470C8 00342D68  7C 06 03 78 */	mr r6, r0
lbl_803470CC:
/* 803470CC 00342D6C  88 04 00 FE */	lbz r0, 0xfe(r4)
/* 803470D0 00342D70  38 84 00 88 */	addi r4, r4, 0x88
/* 803470D4 00342D74  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 803470D8 00342D78  41 82 00 18 */	beq lbl_803470F0
/* 803470DC 00342D7C  80 04 00 0C */	lwz r0, 0xc(r4)
/* 803470E0 00342D80  7C 00 30 40 */	cmplw r0, r6
/* 803470E4 00342D84  40 80 00 0C */	bge lbl_803470F0
/* 803470E8 00342D88  7C 83 23 78 */	mr r3, r4
/* 803470EC 00342D8C  7C 06 03 78 */	mr r6, r0
lbl_803470F0:
/* 803470F0 00342D90  88 04 00 FE */	lbz r0, 0xfe(r4)
/* 803470F4 00342D94  38 84 00 88 */	addi r4, r4, 0x88
/* 803470F8 00342D98  54 00 06 31 */	rlwinm. r0, r0, 0, 0x18, 0x18
/* 803470FC 00342D9C  41 82 00 18 */	beq lbl_80347114
/* 80347100 00342DA0  80 04 00 0C */	lwz r0, 0xc(r4)
/* 80347104 00342DA4  7C 00 30 40 */	cmplw r0, r6
/* 80347108 00342DA8  40 80 00 0C */	bge lbl_80347114
/* 8034710C 00342DAC  7C 83 23 78 */	mr r3, r4
/* 80347110 00342DB0  7C 06 03 78 */	mr r6, r0
lbl_80347114:
/* 80347114 00342DB4  38 A5 00 03 */	addi r5, r5, 3
/* 80347118 00342DB8  38 84 00 88 */	addi r4, r4, 0x88
/* 8034711C 00342DBC  42 00 FF 6C */	bdnz lbl_80347088
/* 80347120 00342DC0  4E 80 00 20 */	blr
