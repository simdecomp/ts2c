.include "macros.inc"

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "TRKDispatchMessage"
"TRKDispatchMessage":
/* 804109C0 0040C660  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 804109C4 0040C664  7C 08 02 A6 */	mflr r0
/* 804109C8 0040C668  38 80 00 00 */	li r4, 0
/* 804109CC 0040C66C  90 01 00 14 */	stw r0, 0x14(r1)
/* 804109D0 0040C670  93 E1 00 0C */	stw r31, 0xc(r1)
/* 804109D4 0040C674  3B E0 05 00 */	li r31, 0x500
/* 804109D8 0040C678  93 C1 00 08 */	stw r30, 8(r1)
/* 804109DC 0040C67C  7C 7E 1B 78 */	mr r30, r3
/* 804109E0 0040C680  4B FF FB 6D */	bl "TRKSetBufferPosition"
/* 804109E4 0040C684  88 1E 00 14 */	lbz r0, 0x14(r30)
/* 804109E8 0040C688  28 00 00 1A */	cmplwi r0, 0x1a
/* 804109EC 0040C68C  41 81 00 F8 */	bgt lbl_80410AE4
/* 804109F0 0040C690  3C 60 80 48 */	lis r3, lbl_80487FC0@ha
/* 804109F4 0040C694  54 00 10 3A */	slwi r0, r0, 2
/* 804109F8 0040C698  38 63 7F C0 */	addi r3, r3, lbl_80487FC0@l
/* 804109FC 0040C69C  7C 03 00 2E */	lwzx r0, r3, r0
/* 80410A00 0040C6A0  7C 09 03 A6 */	mtctr r0
/* 80410A04 0040C6A4  4E 80 04 20 */	bctr 
/* 80410A08 0040C6A8  7F C3 F3 78 */	mr r3, r30
/* 80410A0C 0040C6AC  48 00 11 35 */	bl "TRKDoConnect"
/* 80410A10 0040C6B0  7C 7F 1B 78 */	mr r31, r3
/* 80410A14 0040C6B4  48 00 00 D0 */	b lbl_80410AE4
/* 80410A18 0040C6B8  7F C3 F3 78 */	mr r3, r30
/* 80410A1C 0040C6BC  48 00 10 89 */	bl "TRKDoDisconnect"
/* 80410A20 0040C6C0  7C 7F 1B 78 */	mr r31, r3
/* 80410A24 0040C6C4  48 00 00 C0 */	b lbl_80410AE4
/* 80410A28 0040C6C8  7F C3 F3 78 */	mr r3, r30
/* 80410A2C 0040C6CC  48 00 0F FD */	bl "TRKDoReset"
/* 80410A30 0040C6D0  7C 7F 1B 78 */	mr r31, r3
/* 80410A34 0040C6D4  48 00 00 B0 */	b lbl_80410AE4
/* 80410A38 0040C6D8  7F C3 F3 78 */	mr r3, r30
/* 80410A3C 0040C6DC  48 00 0F 71 */	bl "TRKDoOverride"
/* 80410A40 0040C6E0  7C 7F 1B 78 */	mr r31, r3
/* 80410A44 0040C6E4  48 00 00 A0 */	b lbl_80410AE4
/* 80410A48 0040C6E8  7F C3 F3 78 */	mr r3, r30
/* 80410A4C 0040C6EC  48 00 0F 59 */	bl "TRKDoVersions"
/* 80410A50 0040C6F0  7C 7F 1B 78 */	mr r31, r3
/* 80410A54 0040C6F4  48 00 00 90 */	b lbl_80410AE4
/* 80410A58 0040C6F8  7F C3 F3 78 */	mr r3, r30
/* 80410A5C 0040C6FC  48 00 0F 41 */	bl "TRKDoSupportMask"
/* 80410A60 0040C700  7C 7F 1B 78 */	mr r31, r3
/* 80410A64 0040C704  48 00 00 80 */	b lbl_80410AE4
/* 80410A68 0040C708  7F C3 F3 78 */	mr r3, r30
/* 80410A6C 0040C70C  48 00 0C E9 */	bl "TRKDoReadMemory"
/* 80410A70 0040C710  7C 7F 1B 78 */	mr r31, r3
/* 80410A74 0040C714  48 00 00 70 */	b lbl_80410AE4
/* 80410A78 0040C718  7F C3 F3 78 */	mr r3, r30
/* 80410A7C 0040C71C  48 00 0A BD */	bl "TRKDoWriteMemory"
/* 80410A80 0040C720  7C 7F 1B 78 */	mr r31, r3
/* 80410A84 0040C724  48 00 00 60 */	b lbl_80410AE4
/* 80410A88 0040C728  7F C3 F3 78 */	mr r3, r30
/* 80410A8C 0040C72C  48 00 08 89 */	bl "TRKDoReadRegisters"
/* 80410A90 0040C730  7C 7F 1B 78 */	mr r31, r3
/* 80410A94 0040C734  48 00 00 50 */	b lbl_80410AE4
/* 80410A98 0040C738  7F C3 F3 78 */	mr r3, r30
/* 80410A9C 0040C73C  48 00 05 BD */	bl "TRKDoWriteRegisters"
/* 80410AA0 0040C740  7C 7F 1B 78 */	mr r31, r3
/* 80410AA4 0040C744  48 00 00 40 */	b lbl_80410AE4
/* 80410AA8 0040C748  7F C3 F3 78 */	mr r3, r30
/* 80410AAC 0040C74C  48 00 04 C9 */	bl "TRKDoContinue"
/* 80410AB0 0040C750  7C 7F 1B 78 */	mr r31, r3
/* 80410AB4 0040C754  48 00 00 30 */	b lbl_80410AE4
/* 80410AB8 0040C758  7F C3 F3 78 */	mr r3, r30
/* 80410ABC 0040C75C  48 00 01 E5 */	bl "TRKDoStep"
/* 80410AC0 0040C760  7C 7F 1B 78 */	mr r31, r3
/* 80410AC4 0040C764  48 00 00 20 */	b lbl_80410AE4
/* 80410AC8 0040C768  7F C3 F3 78 */	mr r3, r30
/* 80410ACC 0040C76C  48 00 01 09 */	bl "TRKDoStop"
/* 80410AD0 0040C770  7C 7F 1B 78 */	mr r31, r3
/* 80410AD4 0040C774  48 00 00 10 */	b lbl_80410AE4
/* 80410AD8 0040C778  7F C3 F3 78 */	mr r3, r30
/* 80410ADC 0040C77C  48 00 00 2D */	bl "TRKDoSetOption"
/* 80410AE0 0040C780  7C 7F 1B 78 */	mr r31, r3
lbl_80410AE4:
/* 80410AE4 0040C784  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80410AE8 0040C788  7F E3 FB 78 */	mr r3, r31
/* 80410AEC 0040C78C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80410AF0 0040C790  83 C1 00 08 */	lwz r30, 8(r1)
/* 80410AF4 0040C794  7C 08 03 A6 */	mtlr r0
/* 80410AF8 0040C798  38 21 00 10 */	addi r1, r1, 0x10
/* 80410AFC 0040C79C  4E 80 00 20 */	blr 

.global "TRKInitializeDispatcher"
"TRKInitializeDispatcher":
/* 80410B00 0040C7A0  38 60 00 00 */	li r3, 0
/* 80410B04 0040C7A4  4E 80 00 20 */	blr 

.section .data, "wa"  # 0x80420060 - 0x80488160
.global lbl_80487FC0
lbl_80487FC0:
	.incbin "baserom.dol", 0x4840C0, 0x70
