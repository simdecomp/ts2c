.include "macros.inc"

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "ptim_init"
"ptim_init":
/* 8033F3B4 0033B054  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8033F3B8 0033B058  7C 08 02 A6 */	mflr r0
/* 8033F3BC 0033B05C  90 01 00 24 */	stw r0, 0x24(r1)
/* 8033F3C0 0033B060  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8033F3C4 0033B064  7C BF 2B 78 */	mr r31, r5
/* 8033F3C8 0033B068  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8033F3CC 0033B06C  7C 9E 23 78 */	mr r30, r4
/* 8033F3D0 0033B070  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8033F3D4 0033B074  7C 7D 1B 78 */	mr r29, r3
/* 8033F3D8 0033B078  4B FF D1 C9 */	bl "GKI_init_timer_list"
/* 8033F3DC 0033B07C  93 DD 00 0C */	stw r30, 0xc(r29)
/* 8033F3E0 0033B080  9B FD 00 10 */	stb r31, 0x10(r29)
/* 8033F3E4 0033B084  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8033F3E8 0033B088  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8033F3EC 0033B08C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8033F3F0 0033B090  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8033F3F4 0033B094  7C 08 03 A6 */	mtlr r0
/* 8033F3F8 0033B098  38 21 00 20 */	addi r1, r1, 0x20
/* 8033F3FC 0033B09C  4E 80 00 20 */	blr

.global "ptim_timer_update"
"ptim_timer_update":
/* 8033F400 0033B0A0  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8033F404 0033B0A4  7C 08 02 A6 */	mflr r0
/* 8033F408 0033B0A8  90 01 00 14 */	stw r0, 0x14(r1)
/* 8033F40C 0033B0AC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8033F410 0033B0B0  93 C1 00 08 */	stw r30, 8(r1)
/* 8033F414 0033B0B4  7C 7E 1B 78 */	mr r30, r3
/* 8033F418 0033B0B8  80 83 00 0C */	lwz r4, 0xc(r3)
/* 8033F41C 0033B0BC  4B FF D1 99 */	bl "GKI_update_timer_list"
/* 8033F420 0033B0C0  48 00 00 54 */	b lbl_8033F474
lbl_8033F424:
/* 8033F424 0033B0C4  7F C3 F3 78 */	mr r3, r30
/* 8033F428 0033B0C8  7F E4 FB 78 */	mr r4, r31
/* 8033F42C 0033B0CC  4B FF D3 01 */	bl "GKI_remove_from_timer_list"
/* 8033F430 0033B0D0  81 9F 00 08 */	lwz r12, 8(r31)
/* 8033F434 0033B0D4  2C 0C 00 00 */	cmpwi r12, 0
/* 8033F438 0033B0D8  41 82 00 14 */	beq lbl_8033F44C
/* 8033F43C 0033B0DC  7F E3 FB 78 */	mr r3, r31
/* 8033F440 0033B0E0  7D 89 03 A6 */	mtctr r12
/* 8033F444 0033B0E4  4E 80 04 21 */	bctrl
/* 8033F448 0033B0E8  48 00 00 2C */	b lbl_8033F474
lbl_8033F44C:
/* 8033F44C 0033B0EC  A0 1F 00 14 */	lhz r0, 0x14(r31)
/* 8033F450 0033B0F0  2C 00 00 00 */	cmpwi r0, 0
/* 8033F454 0033B0F4  41 82 00 20 */	beq lbl_8033F474
/* 8033F458 0033B0F8  38 60 00 08 */	li r3, 8
/* 8033F45C 0033B0FC  4B FF BF 39 */	bl "GKI_getbuf"
/* 8033F460 0033B100  2C 03 00 00 */	cmpwi r3, 0
/* 8033F464 0033B104  41 82 00 10 */	beq lbl_8033F474
/* 8033F468 0033B108  A0 1F 00 14 */	lhz r0, 0x14(r31)
/* 8033F46C 0033B10C  B0 03 00 00 */	sth r0, 0(r3)
/* 8033F470 0033B110  4B FF FE 85 */	bl "bta_sys_sendmsg"
lbl_8033F474:
/* 8033F474 0033B114  83 FE 00 00 */	lwz r31, 0(r30)
/* 8033F478 0033B118  2C 1F 00 00 */	cmpwi r31, 0
/* 8033F47C 0033B11C  41 82 00 10 */	beq lbl_8033F48C
/* 8033F480 0033B120  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 8033F484 0033B124  2C 00 00 00 */	cmpwi r0, 0
/* 8033F488 0033B128  40 81 FF 9C */	ble lbl_8033F424
lbl_8033F48C:
/* 8033F48C 0033B12C  2C 1F 00 00 */	cmpwi r31, 0
/* 8033F490 0033B130  40 82 00 0C */	bne lbl_8033F49C
/* 8033F494 0033B134  88 7E 00 10 */	lbz r3, 0x10(r30)
/* 8033F498 0033B138  4B FF D0 81 */	bl "GKI_stop_timer"
lbl_8033F49C:
/* 8033F49C 0033B13C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8033F4A0 0033B140  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8033F4A4 0033B144  83 C1 00 08 */	lwz r30, 8(r1)
/* 8033F4A8 0033B148  7C 08 03 A6 */	mtlr r0
/* 8033F4AC 0033B14C  38 21 00 10 */	addi r1, r1, 0x10
/* 8033F4B0 0033B150  4E 80 00 20 */	blr

.global "ptim_start_timer"
"ptim_start_timer":
/* 8033F4B4 0033B154  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8033F4B8 0033B158  7C 08 02 A6 */	mflr r0
/* 8033F4BC 0033B15C  90 01 00 24 */	stw r0, 0x24(r1)
/* 8033F4C0 0033B160  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8033F4C4 0033B164  7C DF 33 78 */	mr r31, r6
/* 8033F4C8 0033B168  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8033F4CC 0033B16C  7C BE 2B 78 */	mr r30, r5
/* 8033F4D0 0033B170  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8033F4D4 0033B174  7C 9D 23 78 */	mr r29, r4
/* 8033F4D8 0033B178  93 81 00 10 */	stw r28, 0x10(r1)
/* 8033F4DC 0033B17C  7C 7C 1B 78 */	mr r28, r3
/* 8033F4E0 0033B180  80 03 00 00 */	lwz r0, 0(r3)
/* 8033F4E4 0033B184  2C 00 00 00 */	cmpwi r0, 0
/* 8033F4E8 0033B188  40 82 00 2C */	bne lbl_8033F514
/* 8033F4EC 0033B18C  3C 80 66 66 */	lis r4, 0x66666667@ha
/* 8033F4F0 0033B190  80 1C 00 0C */	lwz r0, 0xc(r28)
/* 8033F4F4 0033B194  38 84 66 67 */	addi r4, r4, 0x66666667@l
/* 8033F4F8 0033B198  88 63 00 10 */	lbz r3, 0x10(r3)
/* 8033F4FC 0033B19C  7C 04 00 96 */	mulhw r0, r4, r0
/* 8033F500 0033B1A0  38 A0 00 01 */	li r5, 1
/* 8033F504 0033B1A4  7C 00 16 70 */	srawi r0, r0, 2
/* 8033F508 0033B1A8  54 04 0F FE */	srwi r4, r0, 0x1f
/* 8033F50C 0033B1AC  7C 80 22 14 */	add r4, r0, r4
/* 8033F510 0033B1B0  4B FF CE B9 */	bl "GKI_start_timer"
lbl_8033F514:
/* 8033F514 0033B1B4  7F 83 E3 78 */	mr r3, r28
/* 8033F518 0033B1B8  7F A4 EB 78 */	mr r4, r29
/* 8033F51C 0033B1BC  4B FF D2 11 */	bl "GKI_remove_from_timer_list"
/* 8033F520 0033B1C0  B3 DD 00 14 */	sth r30, 0x14(r29)
/* 8033F524 0033B1C4  7F 83 E3 78 */	mr r3, r28
/* 8033F528 0033B1C8  7F A4 EB 78 */	mr r4, r29
/* 8033F52C 0033B1CC  93 FD 00 0C */	stw r31, 0xc(r29)
/* 8033F530 0033B1D0  4B FF D1 11 */	bl "GKI_add_to_timer_list"
/* 8033F534 0033B1D4  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8033F538 0033B1D8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8033F53C 0033B1DC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8033F540 0033B1E0  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8033F544 0033B1E4  83 81 00 10 */	lwz r28, 0x10(r1)
/* 8033F548 0033B1E8  7C 08 03 A6 */	mtlr r0
/* 8033F54C 0033B1EC  38 21 00 20 */	addi r1, r1, 0x20
/* 8033F550 0033B1F0  4E 80 00 20 */	blr

.global "ptim_stop_timer"
"ptim_stop_timer":
/* 8033F554 0033B1F4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8033F558 0033B1F8  7C 08 02 A6 */	mflr r0
/* 8033F55C 0033B1FC  90 01 00 14 */	stw r0, 0x14(r1)
/* 8033F560 0033B200  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8033F564 0033B204  7C 7F 1B 78 */	mr r31, r3
/* 8033F568 0033B208  4B FF D1 C5 */	bl "GKI_remove_from_timer_list"
/* 8033F56C 0033B20C  80 1F 00 00 */	lwz r0, 0(r31)
/* 8033F570 0033B210  2C 00 00 00 */	cmpwi r0, 0
/* 8033F574 0033B214  40 82 00 0C */	bne lbl_8033F580
/* 8033F578 0033B218  88 7F 00 10 */	lbz r3, 0x10(r31)
/* 8033F57C 0033B21C  4B FF CF 9D */	bl "GKI_stop_timer"
lbl_8033F580:
/* 8033F580 0033B220  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8033F584 0033B224  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8033F588 0033B228  7C 08 03 A6 */	mtlr r0
/* 8033F58C 0033B22C  38 21 00 10 */	addi r1, r1, 0x10
/* 8033F590 0033B230  4E 80 00 20 */	blr
