.include "macros.inc"

.section .init, "ax"  # 0x80004000 - 0x800064E0
.global "__init_hardware"
"__init_hardware":
/* 800042E0 000003E0  7C 00 00 A6 */	mfmsr r0
/* 800042E4 000003E4  60 00 20 00 */	ori r0, r0, 0x2000
/* 800042E8 000003E8  7C 00 01 24 */	mtmsr r0
/* 800042EC 000003EC  7F E8 02 A6 */	mflr r31
/* 800042F0 000003F0  48 3D 6F 19 */	bl "__OSPSInit"
/* 800042F4 000003F4  48 3D 5C C1 */	bl "__OSFPRInit"
/* 800042F8 000003F8  48 3D 84 01 */	bl "__OSCacheInit"
/* 800042FC 000003FC  7F E8 03 A6 */	mtlr r31
/* 80004300 00000400  4E 80 00 20 */	blr

.global "__flush_cache"
"__flush_cache":
/* 80004304 00000404  3C A0 FF FF */	lis r5, 0xFFFFFFF1@h
/* 80004308 00000408  60 A5 FF F1 */	ori r5, r5, 0xFFFFFFF1@l
/* 8000430C 0000040C  7C A5 18 38 */	and r5, r5, r3
/* 80004310 00000410  7C 65 18 50 */	subf r3, r5, r3
/* 80004314 00000414  7C 84 1A 14 */	add r4, r4, r3
lbl_80004318:
/* 80004318 00000418  7C 00 28 6C */	dcbst 0, r5
/* 8000431C 0000041C  7C 00 04 AC */	sync 0
/* 80004320 00000420  7C 00 2F AC */	icbi 0, r5
/* 80004324 00000424  30 A5 00 08 */	addic r5, r5, 8
/* 80004328 00000428  34 84 FF F8 */	addic. r4, r4, -8
/* 8000432C 0000042C  40 80 FF EC */	bge lbl_80004318
/* 80004330 00000430  4C 00 01 2C */	isync
/* 80004334 00000434  4E 80 00 20 */	blr

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "__init_user"
"__init_user":
/* 803E5E64 003E1B04  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803E5E68 003E1B08  7C 08 02 A6 */	mflr r0
/* 803E5E6C 003E1B0C  90 01 00 14 */	stw r0, 0x14(r1)
/* 803E5E70 003E1B10  48 00 00 15 */	bl "__init_cpp"
/* 803E5E74 003E1B14  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803E5E78 003E1B18  7C 08 03 A6 */	mtlr r0
/* 803E5E7C 003E1B1C  38 21 00 10 */	addi r1, r1, 0x10
/* 803E5E80 003E1B20  4E 80 00 20 */	blr

.global "__init_cpp"
"__init_cpp":
/* 803E5E84 003E1B24  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803E5E88 003E1B28  7C 08 02 A6 */	mflr r0
/* 803E5E8C 003E1B2C  90 01 00 14 */	stw r0, 0x14(r1)
/* 803E5E90 003E1B30  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803E5E94 003E1B34  3F E0 80 42 */	lis r31, "_ctors"@ha
/* 803E5E98 003E1B38  3B FF 8B 80 */	addi r31, r31, "_ctors"@l
/* 803E5E9C 003E1B3C  48 00 00 10 */	b lbl_803E5EAC
lbl_803E5EA0:
/* 803E5EA0 003E1B40  7D 89 03 A6 */	mtctr r12
/* 803E5EA4 003E1B44  4E 80 04 21 */	bctrl
/* 803E5EA8 003E1B48  3B FF 00 04 */	addi r31, r31, 4
lbl_803E5EAC:
/* 803E5EAC 003E1B4C  81 9F 00 00 */	lwz r12, 0(r31)
/* 803E5EB0 003E1B50  2C 0C 00 00 */	cmpwi r12, 0
/* 803E5EB4 003E1B54  40 82 FF EC */	bne lbl_803E5EA0
/* 803E5EB8 003E1B58  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803E5EBC 003E1B5C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803E5EC0 003E1B60  7C 08 03 A6 */	mtlr r0
/* 803E5EC4 003E1B64  38 21 00 10 */	addi r1, r1, 0x10
/* 803E5EC8 003E1B68  4E 80 00 20 */	blr

.global "exit"
"exit":
/* 803E5ECC 003E1B6C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803E5ED0 003E1B70  7C 08 02 A6 */	mflr r0
/* 803E5ED4 003E1B74  90 01 00 14 */	stw r0, 0x14(r1)
/* 803E5ED8 003E1B78  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803E5EDC 003E1B7C  3F E0 80 42 */	lis r31, "_dtors"@ha
/* 803E5EE0 003E1B80  3B FF 8C 60 */	addi r31, r31, "_dtors"@l
/* 803E5EE4 003E1B84  48 00 00 10 */	b lbl_803E5EF4
lbl_803E5EE8:
/* 803E5EE8 003E1B88  7D 89 03 A6 */	mtctr r12
/* 803E5EEC 003E1B8C  4E 80 04 21 */	bctrl
/* 803E5EF0 003E1B90  3B FF 00 04 */	addi r31, r31, 4
lbl_803E5EF4:
/* 803E5EF4 003E1B94  81 9F 00 00 */	lwz r12, 0(r31)
/* 803E5EF8 003E1B98  2C 0C 00 00 */	cmpwi r12, 0
/* 803E5EFC 003E1B9C  40 82 FF EC */	bne lbl_803E5EE8
/* 803E5F00 003E1BA0  4B F5 4E 91 */	bl "PPCHalt"
/* 803E5F04 003E1BA4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803E5F08 003E1BA8  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803E5F0C 003E1BAC  7C 08 03 A6 */	mtlr r0
/* 803E5F10 003E1BB0  38 21 00 10 */	addi r1, r1, 0x10
/* 803E5F14 003E1BB4  4E 80 00 20 */	blr
