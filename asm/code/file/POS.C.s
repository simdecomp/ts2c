.include "macros.inc"

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "_ftell"
"_ftell":
/* 80405544 004011E4  80 03 00 04 */	lwz r0, 4(r3)
/* 80405548 004011E8  38 C0 00 00 */	li r6, 0
/* 8040554C 004011EC  54 04 57 7E */	rlwinm r4, r0, 0xa, 0x1d, 0x1f
/* 80405550 004011F0  38 04 00 FF */	addi r0, r4, 0xff
/* 80405554 004011F4  54 00 06 3E */	clrlwi r0, r0, 0x18
/* 80405558 004011F8  28 00 00 01 */	cmplwi r0, 1
/* 8040555C 004011FC  41 81 00 10 */	bgt lbl_8040556C
/* 80405560 00401200  88 03 00 0A */	lbz r0, 0xa(r3)
/* 80405564 00401204  2C 00 00 00 */	cmpwi r0, 0
/* 80405568 00401208  41 82 00 14 */	beq lbl_8040557C
lbl_8040556C:
/* 8040556C 0040120C  38 00 00 28 */	li r0, 0x28
/* 80405570 00401210  38 60 FF FF */	li r3, -1
/* 80405574 00401214  90 0D C9 B0 */	stw r0, "errno"-_SDA_BASE_(r13)
/* 80405578 00401218  4E 80 00 20 */	blr 
lbl_8040557C:
/* 8040557C 0040121C  80 03 00 08 */	lwz r0, 8(r3)
/* 80405580 00401220  54 05 1F 7F */	rlwinm. r5, r0, 3, 0x1d, 0x1f
/* 80405584 00401224  40 82 00 0C */	bne lbl_80405590
/* 80405588 00401228  80 63 00 18 */	lwz r3, 0x18(r3)
/* 8040558C 0040122C  4E 80 00 20 */	blr 
lbl_80405590:
/* 80405590 00401230  81 03 00 1C */	lwz r8, 0x1c(r3)
/* 80405594 00401234  28 05 00 03 */	cmplwi r5, 3
/* 80405598 00401238  80 83 00 24 */	lwz r4, 0x24(r3)
/* 8040559C 0040123C  80 03 00 34 */	lwz r0, 0x34(r3)
/* 804055A0 00401240  7C 88 20 50 */	subf r4, r8, r4
/* 804055A4 00401244  7C E0 22 14 */	add r7, r0, r4
/* 804055A8 00401248  41 80 00 0C */	blt lbl_804055B4
/* 804055AC 0040124C  38 C5 FF FE */	addi r6, r5, -2
/* 804055B0 00401250  7C E6 38 50 */	subf r7, r6, r7
lbl_804055B4:
/* 804055B4 00401254  80 03 00 04 */	lwz r0, 4(r3)
/* 804055B8 00401258  54 00 6F FF */	rlwinm. r0, r0, 0xd, 0x1f, 0x1f
/* 804055BC 0040125C  40 82 00 28 */	bne lbl_804055E4
/* 804055C0 00401260  7C 06 20 51 */	subf. r0, r6, r4
/* 804055C4 00401264  7C 09 03 A6 */	mtctr r0
/* 804055C8 00401268  41 82 00 1C */	beq lbl_804055E4
lbl_804055CC:
/* 804055CC 0040126C  88 08 00 00 */	lbz r0, 0(r8)
/* 804055D0 00401270  39 08 00 01 */	addi r8, r8, 1
/* 804055D4 00401274  28 00 00 0A */	cmplwi r0, 0xa
/* 804055D8 00401278  40 82 00 08 */	bne lbl_804055E0
/* 804055DC 0040127C  38 E7 00 01 */	addi r7, r7, 1
lbl_804055E0:
/* 804055E0 00401280  42 00 FF EC */	bdnz lbl_804055CC
lbl_804055E4:
/* 804055E4 00401284  7C E3 3B 78 */	mr r3, r7
/* 804055E8 00401288  4E 80 00 20 */	blr 

.global "ftell"
"ftell":
/* 804055EC 0040128C  4B FF FF 58 */	b "_ftell"

.global "_fseek"
"_fseek":
/* 804055F0 00401290  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 804055F4 00401294  7C 08 02 A6 */	mflr r0
/* 804055F8 00401298  90 01 00 24 */	stw r0, 0x24(r1)
/* 804055FC 0040129C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80405600 004012A0  7C BF 2B 78 */	mr r31, r5
/* 80405604 004012A4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80405608 004012A8  7C 7E 1B 78 */	mr r30, r3
/* 8040560C 004012AC  90 81 00 08 */	stw r4, 8(r1)
/* 80405610 004012B0  80 03 00 04 */	lwz r0, 4(r3)
/* 80405614 004012B4  54 00 57 7E */	rlwinm r0, r0, 0xa, 0x1d, 0x1f
/* 80405618 004012B8  28 00 00 01 */	cmplwi r0, 1
/* 8040561C 004012BC  40 82 00 10 */	bne lbl_8040562C
/* 80405620 004012C0  88 03 00 0A */	lbz r0, 0xa(r3)
/* 80405624 004012C4  2C 00 00 00 */	cmpwi r0, 0
/* 80405628 004012C8  41 82 00 14 */	beq lbl_8040563C
lbl_8040562C:
/* 8040562C 004012CC  38 00 00 28 */	li r0, 0x28
/* 80405630 004012D0  38 60 FF FF */	li r3, -1
/* 80405634 004012D4  90 0D C9 B0 */	stw r0, "errno"-_SDA_BASE_(r13)
/* 80405638 004012D8  48 00 01 64 */	b lbl_8040579C
lbl_8040563C:
/* 8040563C 004012DC  80 03 00 08 */	lwz r0, 8(r3)
/* 80405640 004012E0  54 00 1F 7E */	srwi r0, r0, 0x1d
/* 80405644 004012E4  28 00 00 01 */	cmplwi r0, 1
/* 80405648 004012E8  40 82 00 34 */	bne lbl_8040567C
/* 8040564C 004012EC  38 80 00 00 */	li r4, 0
/* 80405650 004012F0  4B FF F7 85 */	bl "__flush_buffer"
/* 80405654 004012F4  2C 03 00 00 */	cmpwi r3, 0
/* 80405658 004012F8  41 82 00 24 */	beq lbl_8040567C
/* 8040565C 004012FC  38 00 00 01 */	li r0, 1
/* 80405660 00401300  38 80 00 00 */	li r4, 0
/* 80405664 00401304  98 1E 00 0A */	stb r0, 0xa(r30)
/* 80405668 00401308  38 00 00 28 */	li r0, 0x28
/* 8040566C 0040130C  38 60 FF FF */	li r3, -1
/* 80405670 00401310  90 9E 00 28 */	stw r4, 0x28(r30)
/* 80405674 00401314  90 0D C9 B0 */	stw r0, "errno"-_SDA_BASE_(r13)
/* 80405678 00401318  48 00 01 24 */	b lbl_8040579C
lbl_8040567C:
/* 8040567C 0040131C  2C 1F 00 01 */	cmpwi r31, 1
/* 80405680 00401320  40 82 00 1C */	bne lbl_8040569C
/* 80405684 00401324  7F C3 F3 78 */	mr r3, r30
/* 80405688 00401328  3B E0 00 00 */	li r31, 0
/* 8040568C 0040132C  4B FF FE B9 */	bl "_ftell"
/* 80405690 00401330  80 01 00 08 */	lwz r0, 8(r1)
/* 80405694 00401334  7C 00 1A 14 */	add r0, r0, r3
/* 80405698 00401338  90 01 00 08 */	stw r0, 8(r1)
lbl_8040569C:
/* 8040569C 0040133C  2C 1F 00 02 */	cmpwi r31, 2
/* 804056A0 00401340  41 82 00 80 */	beq lbl_80405720
/* 804056A4 00401344  80 1E 00 04 */	lwz r0, 4(r30)
/* 804056A8 00401348  54 00 2F 7E */	rlwinm r0, r0, 5, 0x1d, 0x1f
/* 804056AC 0040134C  28 00 00 03 */	cmplwi r0, 3
/* 804056B0 00401350  41 82 00 70 */	beq lbl_80405720
/* 804056B4 00401354  80 DE 00 08 */	lwz r6, 8(r30)
/* 804056B8 00401358  54 C3 1F 7E */	srwi r3, r6, 0x1d
/* 804056BC 0040135C  38 03 FF FE */	addi r0, r3, -2
/* 804056C0 00401360  28 00 00 01 */	cmplwi r0, 1
/* 804056C4 00401364  41 81 00 5C */	bgt lbl_80405720
/* 804056C8 00401368  80 61 00 08 */	lwz r3, 8(r1)
/* 804056CC 0040136C  80 BE 00 18 */	lwz r5, 0x18(r30)
/* 804056D0 00401370  7C 03 28 40 */	cmplw r3, r5
/* 804056D4 00401374  40 80 00 10 */	bge lbl_804056E4
/* 804056D8 00401378  80 1E 00 34 */	lwz r0, 0x34(r30)
/* 804056DC 0040137C  7C 03 00 40 */	cmplw r3, r0
/* 804056E0 00401380  40 80 00 14 */	bge lbl_804056F4
lbl_804056E4:
/* 804056E4 00401384  80 1E 00 08 */	lwz r0, 8(r30)
/* 804056E8 00401388  54 00 00 FE */	clrlwi r0, r0, 3
/* 804056EC 0040138C  90 1E 00 08 */	stw r0, 8(r30)
/* 804056F0 00401390  48 00 00 3C */	b lbl_8040572C
lbl_804056F4:
/* 804056F4 00401394  80 9E 00 1C */	lwz r4, 0x1c(r30)
/* 804056F8 00401398  7C 60 18 50 */	subf r3, r0, r3
/* 804056FC 0040139C  38 00 00 02 */	li r0, 2
/* 80405700 004013A0  7C 64 1A 14 */	add r3, r4, r3
/* 80405704 004013A4  90 7E 00 24 */	stw r3, 0x24(r30)
/* 80405708 004013A8  50 06 E8 04 */	rlwimi r6, r0, 0x1d, 0, 2
/* 8040570C 004013AC  80 01 00 08 */	lwz r0, 8(r1)
/* 80405710 004013B0  7C 00 28 50 */	subf r0, r0, r5
/* 80405714 004013B4  90 DE 00 08 */	stw r6, 8(r30)
/* 80405718 004013B8  90 1E 00 28 */	stw r0, 0x28(r30)
/* 8040571C 004013BC  48 00 00 10 */	b lbl_8040572C
lbl_80405720:
/* 80405720 004013C0  80 1E 00 08 */	lwz r0, 8(r30)
/* 80405724 004013C4  54 00 00 FE */	clrlwi r0, r0, 3
/* 80405728 004013C8  90 1E 00 08 */	stw r0, 8(r30)
lbl_8040572C:
/* 8040572C 004013CC  80 1E 00 08 */	lwz r0, 8(r30)
/* 80405730 004013D0  54 00 1F 7F */	rlwinm. r0, r0, 3, 0x1d, 0x1f
/* 80405734 004013D4  40 82 00 64 */	bne lbl_80405798
/* 80405738 004013D8  81 9E 00 38 */	lwz r12, 0x38(r30)
/* 8040573C 004013DC  2C 0C 00 00 */	cmpwi r12, 0
/* 80405740 004013E0  41 82 00 44 */	beq lbl_80405784
/* 80405744 004013E4  7F E5 FB 78 */	mr r5, r31
/* 80405748 004013E8  38 81 00 08 */	addi r4, r1, 8
/* 8040574C 004013EC  80 7E 00 00 */	lwz r3, 0(r30)
/* 80405750 004013F0  80 DE 00 48 */	lwz r6, 0x48(r30)
/* 80405754 004013F4  7D 89 03 A6 */	mtctr r12
/* 80405758 004013F8  4E 80 04 21 */	bctrl 
/* 8040575C 004013FC  2C 03 00 00 */	cmpwi r3, 0
/* 80405760 00401400  41 82 00 24 */	beq lbl_80405784
/* 80405764 00401404  38 00 00 01 */	li r0, 1
/* 80405768 00401408  38 80 00 00 */	li r4, 0
/* 8040576C 0040140C  98 1E 00 0A */	stb r0, 0xa(r30)
/* 80405770 00401410  38 00 00 28 */	li r0, 0x28
/* 80405774 00401414  38 60 FF FF */	li r3, -1
/* 80405778 00401418  90 9E 00 28 */	stw r4, 0x28(r30)
/* 8040577C 0040141C  90 0D C9 B0 */	stw r0, "errno"-_SDA_BASE_(r13)
/* 80405780 00401420  48 00 00 1C */	b lbl_8040579C
lbl_80405784:
/* 80405784 00401424  38 60 00 00 */	li r3, 0
/* 80405788 00401428  98 7E 00 09 */	stb r3, 9(r30)
/* 8040578C 0040142C  80 01 00 08 */	lwz r0, 8(r1)
/* 80405790 00401430  90 1E 00 18 */	stw r0, 0x18(r30)
/* 80405794 00401434  90 7E 00 28 */	stw r3, 0x28(r30)
lbl_80405798:
/* 80405798 00401438  38 60 00 00 */	li r3, 0
lbl_8040579C:
/* 8040579C 0040143C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 804057A0 00401440  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 804057A4 00401444  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 804057A8 00401448  7C 08 03 A6 */	mtlr r0
/* 804057AC 0040144C  38 21 00 20 */	addi r1, r1, 0x20
/* 804057B0 00401450  4E 80 00 20 */	blr 
