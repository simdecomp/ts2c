.include "macros.inc"

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "__TRK_write_console"
"__TRK_write_console":
/* 80414200 0040FEA0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80414204 0040FEA4  7C 08 02 A6 */	mflr r0
/* 80414208 0040FEA8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8041420C 0040FEAC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80414210 0040FEB0  7C BF 2B 78 */	mr r31, r5
/* 80414214 0040FEB4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80414218 0040FEB8  7C 9E 23 78 */	mr r30, r4
/* 8041421C 0040FEBC  48 00 09 B1 */	bl "GetUseSerialIO"
/* 80414220 0040FEC0  54 60 06 3F */	clrlwi. r0, r3, 0x18
/* 80414224 0040FEC4  40 82 00 0C */	bne lbl_80414230
/* 80414228 0040FEC8  38 60 00 01 */	li r3, 1
/* 8041422C 0040FECC  48 00 00 78 */	b lbl_804142A4
lbl_80414230:
/* 80414230 0040FED0  4B FF D9 A5 */	bl "GetTRKConnected"
/* 80414234 0040FED4  2C 03 00 00 */	cmpwi r3, 0
/* 80414238 0040FED8  40 82 00 0C */	bne lbl_80414244
/* 8041423C 0040FEDC  38 60 00 01 */	li r3, 1
/* 80414240 0040FEE0  48 00 00 64 */	b lbl_804142A4
lbl_80414244:
/* 80414244 0040FEE4  80 1F 00 00 */	lwz r0, 0(r31)
/* 80414248 0040FEE8  7F C6 F3 78 */	mr r6, r30
/* 8041424C 0040FEEC  38 A1 00 08 */	addi r5, r1, 8
/* 80414250 0040FEF0  38 60 00 D0 */	li r3, 0xd0
/* 80414254 0040FEF4  90 01 00 08 */	stw r0, 8(r1)
/* 80414258 0040FEF8  38 80 00 01 */	li r4, 1
/* 8041425C 0040FEFC  4B FF FC 15 */	bl "TRKAccessFile"
/* 80414260 0040FF00  54 60 06 3E */	clrlwi r0, r3, 0x18
/* 80414264 0040FF04  80 61 00 08 */	lwz r3, 8(r1)
/* 80414268 0040FF08  2C 00 00 01 */	cmpwi r0, 1
/* 8041426C 0040FF0C  90 7F 00 00 */	stw r3, 0(r31)
/* 80414270 0040FF10  41 82 00 30 */	beq lbl_804142A0
/* 80414274 0040FF14  40 80 00 10 */	bge lbl_80414284
/* 80414278 0040FF18  2C 00 00 00 */	cmpwi r0, 0
/* 8041427C 0040FF1C  40 80 00 14 */	bge lbl_80414290
/* 80414280 0040FF20  48 00 00 20 */	b lbl_804142A0
lbl_80414284:
/* 80414284 0040FF24  2C 00 00 03 */	cmpwi r0, 3
/* 80414288 0040FF28  40 80 00 18 */	bge lbl_804142A0
/* 8041428C 0040FF2C  48 00 00 0C */	b lbl_80414298
lbl_80414290:
/* 80414290 0040FF30  38 60 00 00 */	li r3, 0
/* 80414294 0040FF34  48 00 00 10 */	b lbl_804142A4
lbl_80414298:
/* 80414298 0040FF38  38 60 00 02 */	li r3, 2
/* 8041429C 0040FF3C  48 00 00 08 */	b lbl_804142A4
lbl_804142A0:
/* 804142A0 0040FF40  38 60 00 01 */	li r3, 1
lbl_804142A4:
/* 804142A4 0040FF44  80 01 00 24 */	lwz r0, 0x24(r1)
/* 804142A8 0040FF48  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 804142AC 0040FF4C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 804142B0 0040FF50  7C 08 03 A6 */	mtlr r0
/* 804142B4 0040FF54  38 21 00 20 */	addi r1, r1, 0x20
/* 804142B8 0040FF58  4E 80 00 20 */	blr

.global "__read_console"
"__read_console":
/* 804142BC 0040FF5C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 804142C0 0040FF60  7C 08 02 A6 */	mflr r0
/* 804142C4 0040FF64  90 01 00 24 */	stw r0, 0x24(r1)
/* 804142C8 0040FF68  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 804142CC 0040FF6C  7C BF 2B 78 */	mr r31, r5
/* 804142D0 0040FF70  93 C1 00 18 */	stw r30, 0x18(r1)
/* 804142D4 0040FF74  7C 9E 23 78 */	mr r30, r4
/* 804142D8 0040FF78  48 00 08 F5 */	bl "GetUseSerialIO"
/* 804142DC 0040FF7C  54 60 06 3F */	clrlwi. r0, r3, 0x18
/* 804142E0 0040FF80  40 82 00 0C */	bne lbl_804142EC
/* 804142E4 0040FF84  38 60 00 01 */	li r3, 1
/* 804142E8 0040FF88  48 00 00 78 */	b lbl_80414360
lbl_804142EC:
/* 804142EC 0040FF8C  4B FF D8 E9 */	bl "GetTRKConnected"
/* 804142F0 0040FF90  2C 03 00 00 */	cmpwi r3, 0
/* 804142F4 0040FF94  40 82 00 0C */	bne lbl_80414300
/* 804142F8 0040FF98  38 60 00 01 */	li r3, 1
/* 804142FC 0040FF9C  48 00 00 64 */	b lbl_80414360
lbl_80414300:
/* 80414300 0040FFA0  80 1F 00 00 */	lwz r0, 0(r31)
/* 80414304 0040FFA4  7F C6 F3 78 */	mr r6, r30
/* 80414308 0040FFA8  38 A1 00 08 */	addi r5, r1, 8
/* 8041430C 0040FFAC  38 60 00 D1 */	li r3, 0xd1
/* 80414310 0040FFB0  90 01 00 08 */	stw r0, 8(r1)
/* 80414314 0040FFB4  38 80 00 00 */	li r4, 0
/* 80414318 0040FFB8  4B FF FB 59 */	bl "TRKAccessFile"
/* 8041431C 0040FFBC  54 60 06 3E */	clrlwi r0, r3, 0x18
/* 80414320 0040FFC0  80 61 00 08 */	lwz r3, 8(r1)
/* 80414324 0040FFC4  2C 00 00 01 */	cmpwi r0, 1
/* 80414328 0040FFC8  90 7F 00 00 */	stw r3, 0(r31)
/* 8041432C 0040FFCC  41 82 00 30 */	beq lbl_8041435C
/* 80414330 0040FFD0  40 80 00 10 */	bge lbl_80414340
/* 80414334 0040FFD4  2C 00 00 00 */	cmpwi r0, 0
/* 80414338 0040FFD8  40 80 00 14 */	bge lbl_8041434C
/* 8041433C 0040FFDC  48 00 00 20 */	b lbl_8041435C
lbl_80414340:
/* 80414340 0040FFE0  2C 00 00 03 */	cmpwi r0, 3
/* 80414344 0040FFE4  40 80 00 18 */	bge lbl_8041435C
/* 80414348 0040FFE8  48 00 00 0C */	b lbl_80414354
lbl_8041434C:
/* 8041434C 0040FFEC  38 60 00 00 */	li r3, 0
/* 80414350 0040FFF0  48 00 00 10 */	b lbl_80414360
lbl_80414354:
/* 80414354 0040FFF4  38 60 00 02 */	li r3, 2
/* 80414358 0040FFF8  48 00 00 08 */	b lbl_80414360
lbl_8041435C:
/* 8041435C 0040FFFC  38 60 00 01 */	li r3, 1
lbl_80414360:
/* 80414360 00410000  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80414364 00410004  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80414368 00410008  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8041436C 0041000C  7C 08 03 A6 */	mtlr r0
/* 80414370 00410010  38 21 00 20 */	addi r1, r1, 0x20
/* 80414374 00410014  4E 80 00 20 */	blr
