.include "macros.inc"

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "CircleBufferReadBytes"
"CircleBufferReadBytes":
/* 80414EF0 00410B90  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80414EF4 00410B94  7C 08 02 A6 */	mflr r0
/* 80414EF8 00410B98  90 01 00 24 */	stw r0, 0x24(r1)
/* 80414EFC 00410B9C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80414F00 00410BA0  7C BF 2B 78 */	mr r31, r5
/* 80414F04 00410BA4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80414F08 00410BA8  7C 7E 1B 78 */	mr r30, r3
/* 80414F0C 00410BAC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80414F10 00410BB0  93 81 00 10 */	stw r28, 0x10(r1)
/* 80414F14 00410BB4  7C 9C 23 78 */	mr r28, r4
/* 80414F18 00410BB8  80 03 00 10 */	lwz r0, 0x10(r3)
/* 80414F1C 00410BBC  7C 1F 00 40 */	cmplw r31, r0
/* 80414F20 00410BC0  40 81 00 0C */	ble lbl_80414F2C
/* 80414F24 00410BC4  38 60 FF FF */	li r3, -1
/* 80414F28 00410BC8  48 00 00 B0 */	b lbl_80414FD8
lbl_80414F2C:
/* 80414F2C 00410BCC  38 7E 00 18 */	addi r3, r30, 0x18
/* 80414F30 00410BD0  48 00 02 4D */	bl "MWEnterCriticalSection"
/* 80414F34 00410BD4  80 7E 00 08 */	lwz r3, 8(r30)
/* 80414F38 00410BD8  80 9E 00 00 */	lwz r4, 0(r30)
/* 80414F3C 00410BDC  80 1E 00 0C */	lwz r0, 0xc(r30)
/* 80414F40 00410BE0  7C 63 20 50 */	subf r3, r3, r4
/* 80414F44 00410BE4  7F A3 00 50 */	subf r29, r3, r0
/* 80414F48 00410BE8  7C 1F E8 40 */	cmplw r31, r29
/* 80414F4C 00410BEC  40 80 00 20 */	bge lbl_80414F6C
/* 80414F50 00410BF0  7F 83 E3 78 */	mr r3, r28
/* 80414F54 00410BF4  7F E5 FB 78 */	mr r5, r31
/* 80414F58 00410BF8  4B BE F3 E1 */	bl "memcpy"
/* 80414F5C 00410BFC  80 1E 00 00 */	lwz r0, 0(r30)
/* 80414F60 00410C00  7C 00 FA 14 */	add r0, r0, r31
/* 80414F64 00410C04  90 1E 00 00 */	stw r0, 0(r30)
/* 80414F68 00410C08  48 00 00 30 */	b lbl_80414F98
lbl_80414F6C:
/* 80414F6C 00410C0C  7F 83 E3 78 */	mr r3, r28
/* 80414F70 00410C10  7F A5 EB 78 */	mr r5, r29
/* 80414F74 00410C14  4B BE F3 C5 */	bl "memcpy"
/* 80414F78 00410C18  80 9E 00 08 */	lwz r4, 8(r30)
/* 80414F7C 00410C1C  7C 7C EA 14 */	add r3, r28, r29
/* 80414F80 00410C20  7C BD F8 50 */	subf r5, r29, r31
/* 80414F84 00410C24  4B BE F3 B5 */	bl "memcpy"
/* 80414F88 00410C28  80 1E 00 08 */	lwz r0, 8(r30)
/* 80414F8C 00410C2C  7C 00 FA 14 */	add r0, r0, r31
/* 80414F90 00410C30  7C 1D 00 50 */	subf r0, r29, r0
/* 80414F94 00410C34  90 1E 00 00 */	stw r0, 0(r30)
lbl_80414F98:
/* 80414F98 00410C38  80 9E 00 08 */	lwz r4, 8(r30)
/* 80414F9C 00410C3C  80 1E 00 00 */	lwz r0, 0(r30)
/* 80414FA0 00410C40  80 7E 00 0C */	lwz r3, 0xc(r30)
/* 80414FA4 00410C44  7C 04 00 50 */	subf r0, r4, r0
/* 80414FA8 00410C48  7C 03 00 40 */	cmplw r3, r0
/* 80414FAC 00410C4C  40 82 00 08 */	bne lbl_80414FB4
/* 80414FB0 00410C50  90 9E 00 00 */	stw r4, 0(r30)
lbl_80414FB4:
/* 80414FB4 00410C54  80 1E 00 14 */	lwz r0, 0x14(r30)
/* 80414FB8 00410C58  38 7E 00 18 */	addi r3, r30, 0x18
/* 80414FBC 00410C5C  7C 00 FA 14 */	add r0, r0, r31
/* 80414FC0 00410C60  90 1E 00 14 */	stw r0, 0x14(r30)
/* 80414FC4 00410C64  80 1E 00 10 */	lwz r0, 0x10(r30)
/* 80414FC8 00410C68  7C 1F 00 50 */	subf r0, r31, r0
/* 80414FCC 00410C6C  90 1E 00 10 */	stw r0, 0x10(r30)
/* 80414FD0 00410C70  48 00 01 89 */	bl "MWExitCriticalSection"
/* 80414FD4 00410C74  38 60 00 00 */	li r3, 0
lbl_80414FD8:
/* 80414FD8 00410C78  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80414FDC 00410C7C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80414FE0 00410C80  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80414FE4 00410C84  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80414FE8 00410C88  83 81 00 10 */	lwz r28, 0x10(r1)
/* 80414FEC 00410C8C  7C 08 03 A6 */	mtlr r0
/* 80414FF0 00410C90  38 21 00 20 */	addi r1, r1, 0x20
/* 80414FF4 00410C94  4E 80 00 20 */	blr 

.global "CircleBufferWriteBytes"
"CircleBufferWriteBytes":
/* 80414FF8 00410C98  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80414FFC 00410C9C  7C 08 02 A6 */	mflr r0
/* 80415000 00410CA0  90 01 00 24 */	stw r0, 0x24(r1)
/* 80415004 00410CA4  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80415008 00410CA8  7C BF 2B 78 */	mr r31, r5
/* 8041500C 00410CAC  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80415010 00410CB0  7C 7E 1B 78 */	mr r30, r3
/* 80415014 00410CB4  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80415018 00410CB8  93 81 00 10 */	stw r28, 0x10(r1)
/* 8041501C 00410CBC  7C 9C 23 78 */	mr r28, r4
/* 80415020 00410CC0  80 03 00 14 */	lwz r0, 0x14(r3)
/* 80415024 00410CC4  7C 1F 00 40 */	cmplw r31, r0
/* 80415028 00410CC8  40 81 00 0C */	ble lbl_80415034
/* 8041502C 00410CCC  38 60 FF FF */	li r3, -1
/* 80415030 00410CD0  48 00 00 B0 */	b lbl_804150E0
lbl_80415034:
/* 80415034 00410CD4  38 7E 00 18 */	addi r3, r30, 0x18
/* 80415038 00410CD8  48 00 01 45 */	bl "MWEnterCriticalSection"
/* 8041503C 00410CDC  80 9E 00 08 */	lwz r4, 8(r30)
/* 80415040 00410CE0  80 7E 00 04 */	lwz r3, 4(r30)
/* 80415044 00410CE4  80 1E 00 0C */	lwz r0, 0xc(r30)
/* 80415048 00410CE8  7C 84 18 50 */	subf r4, r4, r3
/* 8041504C 00410CEC  7F A4 00 50 */	subf r29, r4, r0
/* 80415050 00410CF0  7C 1D F8 40 */	cmplw r29, r31
/* 80415054 00410CF4  41 80 00 20 */	blt lbl_80415074
/* 80415058 00410CF8  7F 84 E3 78 */	mr r4, r28
/* 8041505C 00410CFC  7F E5 FB 78 */	mr r5, r31
/* 80415060 00410D00  4B BE F2 D9 */	bl "memcpy"
/* 80415064 00410D04  80 1E 00 04 */	lwz r0, 4(r30)
/* 80415068 00410D08  7C 00 FA 14 */	add r0, r0, r31
/* 8041506C 00410D0C  90 1E 00 04 */	stw r0, 4(r30)
/* 80415070 00410D10  48 00 00 30 */	b lbl_804150A0
lbl_80415074:
/* 80415074 00410D14  7F 84 E3 78 */	mr r4, r28
/* 80415078 00410D18  7F A5 EB 78 */	mr r5, r29
/* 8041507C 00410D1C  4B BE F2 BD */	bl "memcpy"
/* 80415080 00410D20  80 7E 00 08 */	lwz r3, 8(r30)
/* 80415084 00410D24  7C 9C EA 14 */	add r4, r28, r29
/* 80415088 00410D28  7C BD F8 50 */	subf r5, r29, r31
/* 8041508C 00410D2C  4B BE F2 AD */	bl "memcpy"
/* 80415090 00410D30  80 1E 00 08 */	lwz r0, 8(r30)
/* 80415094 00410D34  7C 00 FA 14 */	add r0, r0, r31
/* 80415098 00410D38  7C 1D 00 50 */	subf r0, r29, r0
/* 8041509C 00410D3C  90 1E 00 04 */	stw r0, 4(r30)
lbl_804150A0:
/* 804150A0 00410D40  80 9E 00 08 */	lwz r4, 8(r30)
/* 804150A4 00410D44  80 1E 00 04 */	lwz r0, 4(r30)
/* 804150A8 00410D48  80 7E 00 0C */	lwz r3, 0xc(r30)
/* 804150AC 00410D4C  7C 04 00 50 */	subf r0, r4, r0
/* 804150B0 00410D50  7C 03 00 40 */	cmplw r3, r0
/* 804150B4 00410D54  40 82 00 08 */	bne lbl_804150BC
/* 804150B8 00410D58  90 9E 00 04 */	stw r4, 4(r30)
lbl_804150BC:
/* 804150BC 00410D5C  80 1E 00 14 */	lwz r0, 0x14(r30)
/* 804150C0 00410D60  38 7E 00 18 */	addi r3, r30, 0x18
/* 804150C4 00410D64  7C 1F 00 50 */	subf r0, r31, r0
/* 804150C8 00410D68  90 1E 00 14 */	stw r0, 0x14(r30)
/* 804150CC 00410D6C  80 1E 00 10 */	lwz r0, 0x10(r30)
/* 804150D0 00410D70  7C 00 FA 14 */	add r0, r0, r31
/* 804150D4 00410D74  90 1E 00 10 */	stw r0, 0x10(r30)
/* 804150D8 00410D78  48 00 00 81 */	bl "MWExitCriticalSection"
/* 804150DC 00410D7C  38 60 00 00 */	li r3, 0
lbl_804150E0:
/* 804150E0 00410D80  80 01 00 24 */	lwz r0, 0x24(r1)
/* 804150E4 00410D84  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 804150E8 00410D88  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 804150EC 00410D8C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 804150F0 00410D90  83 81 00 10 */	lwz r28, 0x10(r1)
/* 804150F4 00410D94  7C 08 03 A6 */	mtlr r0
/* 804150F8 00410D98  38 21 00 20 */	addi r1, r1, 0x20
/* 804150FC 00410D9C  4E 80 00 20 */	blr 

.global "CircleBufferInitialize"
"CircleBufferInitialize":
/* 80415100 00410DA0  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80415104 00410DA4  7C 08 02 A6 */	mflr r0
/* 80415108 00410DA8  7C 66 1B 78 */	mr r6, r3
/* 8041510C 00410DAC  90 01 00 14 */	stw r0, 0x14(r1)
/* 80415110 00410DB0  38 00 00 00 */	li r0, 0
/* 80415114 00410DB4  90 83 00 08 */	stw r4, 8(r3)
/* 80415118 00410DB8  38 66 00 18 */	addi r3, r6, 0x18
/* 8041511C 00410DBC  90 A6 00 0C */	stw r5, 0xc(r6)
/* 80415120 00410DC0  80 86 00 08 */	lwz r4, 8(r6)
/* 80415124 00410DC4  90 86 00 00 */	stw r4, 0(r6)
/* 80415128 00410DC8  80 86 00 08 */	lwz r4, 8(r6)
/* 8041512C 00410DCC  90 86 00 04 */	stw r4, 4(r6)
/* 80415130 00410DD0  90 06 00 10 */	stw r0, 0x10(r6)
/* 80415134 00410DD4  80 06 00 0C */	lwz r0, 0xc(r6)
/* 80415138 00410DD8  90 06 00 14 */	stw r0, 0x14(r6)
/* 8041513C 00410DDC  48 00 00 71 */	bl "MWInitializeCriticalSection"
/* 80415140 00410DE0  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80415144 00410DE4  7C 08 03 A6 */	mtlr r0
/* 80415148 00410DE8  38 21 00 10 */	addi r1, r1, 0x10
/* 8041514C 00410DEC  4E 80 00 20 */	blr 

.global "CBGetBytesAvailableForRead"
"CBGetBytesAvailableForRead":
/* 80415150 00410DF0  80 63 00 10 */	lwz r3, 0x10(r3)
/* 80415154 00410DF4  4E 80 00 20 */	blr 
