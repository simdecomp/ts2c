.include "macros.inc"

.section .text, "ax"  # 0x80006940 - 0x80418B80
.global "ldexp"
"ldexp":
/* 8040E610 0040A2B0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8040E614 0040A2B4  7C 08 02 A6 */	mflr r0
/* 8040E618 0040A2B8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8040E61C 0040A2BC  DB E1 00 18 */	stfd f31, 0x18(r1)
/* 8040E620 0040A2C0  FF E0 08 90 */	fmr f31, f1
/* 8040E624 0040A2C4  93 E1 00 14 */	stw r31, 0x14(r1)
/* 8040E628 0040A2C8  7C 7F 1B 78 */	mr r31, r3
/* 8040E62C 0040A2CC  D8 21 00 08 */	stfd f1, 8(r1)
/* 8040E630 0040A2D0  4B FF 76 FD */	bl "__fpclassifyd"
/* 8040E634 0040A2D4  2C 03 00 02 */	cmpwi r3, 2
/* 8040E638 0040A2D8  40 81 00 10 */	ble lbl_8040E648
/* 8040E63C 0040A2DC  C8 02 B1 98 */	lfd f0, lbl_805DC3B8-_SDA2_BASE_(r2)
/* 8040E640 0040A2E0  FC 00 F8 00 */	fcmpu cr0, f0, f31
/* 8040E644 0040A2E4  40 82 00 0C */	bne lbl_8040E650
lbl_8040E648:
/* 8040E648 0040A2E8  FC 20 F8 90 */	fmr f1, f31
/* 8040E64C 0040A2EC  48 00 01 18 */	b lbl_8040E764
lbl_8040E650:
/* 8040E650 0040A2F0  80 A1 00 08 */	lwz r5, 8(r1)
/* 8040E654 0040A2F4  80 61 00 0C */	lwz r3, 0xc(r1)
/* 8040E658 0040A2F8  54 A4 65 7F */	rlwinm. r4, r5, 0xc, 0x15, 0x1f
/* 8040E65C 0040A2FC  40 82 00 4C */	bne lbl_8040E6A8
/* 8040E660 0040A300  54 A0 00 7E */	clrlwi r0, r5, 1
/* 8040E664 0040A304  7C 60 03 79 */	or. r0, r3, r0
/* 8040E668 0040A308  40 82 00 0C */	bne lbl_8040E674
/* 8040E66C 0040A30C  FC 20 F8 90 */	fmr f1, f31
/* 8040E670 0040A310  48 00 00 F4 */	b lbl_8040E764
lbl_8040E674:
/* 8040E674 0040A314  C8 02 B1 A0 */	lfd f0, lbl_805DC3C0-_SDA2_BASE_(r2)
/* 8040E678 0040A318  3C 60 FF FF */	lis r3, 0xFFFF3CB0@ha
/* 8040E67C 0040A31C  38 03 3C B0 */	addi r0, r3, 0xFFFF3CB0@l
/* 8040E680 0040A320  FF FF 00 32 */	fmul f31, f31, f0
/* 8040E684 0040A324  7C 1F 00 00 */	cmpw r31, r0
/* 8040E688 0040A328  DB E1 00 08 */	stfd f31, 8(r1)
/* 8040E68C 0040A32C  80 A1 00 08 */	lwz r5, 8(r1)
/* 8040E690 0040A330  54 A3 65 7E */	rlwinm r3, r5, 0xc, 0x15, 0x1f
/* 8040E694 0040A334  38 83 FF CA */	addi r4, r3, -54
/* 8040E698 0040A338  40 80 00 10 */	bge lbl_8040E6A8
/* 8040E69C 0040A33C  C8 02 B1 A8 */	lfd f0, lbl_805DC3C8-_SDA2_BASE_(r2)
/* 8040E6A0 0040A340  FC 20 07 F2 */	fmul f1, f0, f31
/* 8040E6A4 0040A344  48 00 00 C0 */	b lbl_8040E764
lbl_8040E6A8:
/* 8040E6A8 0040A348  2C 04 07 FF */	cmpwi r4, 0x7ff
/* 8040E6AC 0040A34C  40 82 00 0C */	bne lbl_8040E6B8
/* 8040E6B0 0040A350  FC 3F F8 2A */	fadd f1, f31, f31
/* 8040E6B4 0040A354  48 00 00 B0 */	b lbl_8040E764
lbl_8040E6B8:
/* 8040E6B8 0040A358  7C 84 FA 14 */	add r4, r4, r31
/* 8040E6BC 0040A35C  2C 04 07 FE */	cmpwi r4, 0x7fe
/* 8040E6C0 0040A360  40 81 00 1C */	ble lbl_8040E6DC
/* 8040E6C4 0040A364  FC 40 F8 90 */	fmr f2, f31
/* 8040E6C8 0040A368  C8 22 B1 B0 */	lfd f1, lbl_805DC3D0-_SDA2_BASE_(r2)
/* 8040E6CC 0040A36C  4B FF FC 79 */	bl "copysign"
/* 8040E6D0 0040A370  C8 02 B1 B0 */	lfd f0, lbl_805DC3D0-_SDA2_BASE_(r2)
/* 8040E6D4 0040A374  FC 20 00 72 */	fmul f1, f0, f1
/* 8040E6D8 0040A378  48 00 00 8C */	b lbl_8040E764
lbl_8040E6DC:
/* 8040E6DC 0040A37C  2C 04 00 00 */	cmpwi r4, 0
/* 8040E6E0 0040A380  40 81 00 1C */	ble lbl_8040E6FC
/* 8040E6E4 0040A384  54 A3 03 00 */	rlwinm r3, r5, 0, 0xc, 0
/* 8040E6E8 0040A388  54 80 A0 16 */	slwi r0, r4, 0x14
/* 8040E6EC 0040A38C  7C 60 03 78 */	or r0, r3, r0
/* 8040E6F0 0040A390  90 01 00 08 */	stw r0, 8(r1)
/* 8040E6F4 0040A394  C8 21 00 08 */	lfd f1, 8(r1)
/* 8040E6F8 0040A398  48 00 00 6C */	b lbl_8040E764
lbl_8040E6FC:
/* 8040E6FC 0040A39C  2C 04 FF CA */	cmpwi r4, -54
/* 8040E700 0040A3A0  41 81 00 44 */	bgt lbl_8040E744
/* 8040E704 0040A3A4  3C 60 00 01 */	lis r3, 0x0000C350@ha
/* 8040E708 0040A3A8  38 03 C3 50 */	addi r0, r3, 0x0000C350@l
/* 8040E70C 0040A3AC  7C 1F 00 00 */	cmpw r31, r0
/* 8040E710 0040A3B0  40 81 00 1C */	ble lbl_8040E72C
/* 8040E714 0040A3B4  FC 40 F8 90 */	fmr f2, f31
/* 8040E718 0040A3B8  C8 22 B1 B0 */	lfd f1, lbl_805DC3D0-_SDA2_BASE_(r2)
/* 8040E71C 0040A3BC  4B FF FC 29 */	bl "copysign"
/* 8040E720 0040A3C0  C8 02 B1 B0 */	lfd f0, lbl_805DC3D0-_SDA2_BASE_(r2)
/* 8040E724 0040A3C4  FC 20 00 72 */	fmul f1, f0, f1
/* 8040E728 0040A3C8  48 00 00 3C */	b lbl_8040E764
lbl_8040E72C:
/* 8040E72C 0040A3CC  FC 40 F8 90 */	fmr f2, f31
/* 8040E730 0040A3D0  C8 22 B1 A8 */	lfd f1, lbl_805DC3C8-_SDA2_BASE_(r2)
/* 8040E734 0040A3D4  4B FF FC 11 */	bl "copysign"
/* 8040E738 0040A3D8  C8 02 B1 A8 */	lfd f0, lbl_805DC3C8-_SDA2_BASE_(r2)
/* 8040E73C 0040A3DC  FC 20 00 72 */	fmul f1, f0, f1
/* 8040E740 0040A3E0  48 00 00 24 */	b lbl_8040E764
lbl_8040E744:
/* 8040E744 0040A3E4  38 04 00 36 */	addi r0, r4, 0x36
/* 8040E748 0040A3E8  54 A3 03 00 */	rlwinm r3, r5, 0, 0xc, 0
/* 8040E74C 0040A3EC  54 00 A0 16 */	slwi r0, r0, 0x14
/* 8040E750 0040A3F0  C8 22 B1 B8 */	lfd f1, lbl_805DC3D8-_SDA2_BASE_(r2)
/* 8040E754 0040A3F4  7C 60 03 78 */	or r0, r3, r0
/* 8040E758 0040A3F8  90 01 00 08 */	stw r0, 8(r1)
/* 8040E75C 0040A3FC  C8 01 00 08 */	lfd f0, 8(r1)
/* 8040E760 0040A400  FC 21 00 32 */	fmul f1, f1, f0
lbl_8040E764:
/* 8040E764 0040A404  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8040E768 0040A408  CB E1 00 18 */	lfd f31, 0x18(r1)
/* 8040E76C 0040A40C  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 8040E770 0040A410  7C 08 03 A6 */	mtlr r0
/* 8040E774 0040A414  38 21 00 20 */	addi r1, r1, 0x20
/* 8040E778 0040A418  4E 80 00 20 */	blr

.section .sdata2, "a"  # 0x805D9220 - 0x805DC420
.global lbl_805DC3B8
lbl_805DC3B8:
	# ROM: 0x48A6D8
	.byte 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

.global lbl_805DC3C0
lbl_805DC3C0:
	# ROM: 0x48A6E0
	.4byte 0x43500000
	.4byte 0x00000000

.global lbl_805DC3C8
lbl_805DC3C8:
	# ROM: 0x48A6E8
	.4byte 0x01A56E1F
	.4byte 0xC2F8F359

.global lbl_805DC3D0
lbl_805DC3D0:
	# ROM: 0x48A6F0
	.4byte 0x7E37E43C
	.4byte 0x8800759C

.global lbl_805DC3D8
lbl_805DC3D8:
	# ROM: 0x48A6F8
	.4byte 0x3C900000
	.4byte 0x00000000

